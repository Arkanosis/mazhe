My main references for noncommutative geometry are \cite{Landi,ConnesNCG,ConnesMotives,itoNCG_Varilly}.

\section{Fredholm modules}
%-------------------------

Most of theory here and related topics is taken from \cite{ConnesNCG,Landi} an other source about Fredholm modules and spectral triples is \cite{Whittaker}. 

If $X$ and $Y$ are Banach spaces, an operator $T\colon X\to Y$ is a \defe{Fredholm operator}{Fredholm!operator} if there exists a bounded linear operator $S\colon Y\to X$ such that the operators
\begin{subequations}
	\begin{align}
		\id_X-ST\\
		\id_X-TS
	\end{align}
\end{subequations}
are compact.

%---------------------------------------------------------------------------------------------------------------------------
\subsection{Introductory example}
%---------------------------------------------------------------------------------------------------------------------------

Let $M$ be a compact manifold and $\cA=C(M)$ the $C^*$-algebra of continuous functions on $M$. We consider $E^{\pm}$, two Hermitian complex vector bundles on $M$ and an elliptic pseudo-differential operator of order $0$, $P\colon  C^{\infty}(M,E^+)\to  C^{\infty}(M,E^-)$. Such an operator can be extended to an operator 
\begin{equation}
	P\colon L^2(M,E^+)\to L^2(M,E^-)
\end{equation}
which has a \hyperlink{DefParametrix}{parametrix} $Q$. Consequently, $P$ is a Fredholm operator (in fact, \wikipedia{en}{Fredholm_operator}{wikipedia} says that all elliptic operators con be extended to Fredholm operator.)

The algebra $C(M)$ is naturally represented on $L^2(M,E^{\pm})$ by $\pi^{\pm}(f)(x)\xi=f(x)\xi(x)$ (pointwise multiplication of $\xi$ by $f$). Let us now consider the Hilbert space 
\begin{equation}
	\hH=\hH^+\oplus\hH^-=L^2(M,E^{+})\oplus L^2(M,E^{-})
\end{equation}
and its $\eZ_2$-graduation
\begin{equation}
	\gamma=\begin{pmatrix}
		1	&	0	\\ 
		0	&	-1	
	\end{pmatrix}.
\end{equation}
We represent $C(M)$ on $\hH$ by
\begin{equation}
	\pi(f)=\begin{pmatrix}
		\pi^+(f)	&	0	\\ 
		0	&	\pi^-(f)	
	\end{pmatrix},
\end{equation}
and we pose
\begin{equation}
	F=\begin{pmatrix}
		0	&	Q	\\ 
		P	&	0	
	\end{pmatrix}.
\end{equation}
In this case, the operators $[F,\pi(f)]$ and $F^2-\mtu$ are compact for every $f\in  C^{\infty}(M)$ because the operators
\begin{subequations}
	\begin{align}
		\pi^-P-P\pi^+\\
		\pi^+Q-Q\pi^-
	\end{align}
\end{subequations}
are compact\quext{I do not know why.}.

%---------------------------------------------------------------------------------------------------------------------------
\subsection{Definition}
%---------------------------------------------------------------------------------------------------------------------------

Let $\cA$ be an involutive algebra over $\eC$. A \defe{odd Fredholm module}{Fredholm!module!odd} over $\cA$ is 
 \begin{enumerate}
\item an involutive representation $\pi$ of $\cA$ on an Hilbert space $\hH$,
\item an operator $F\colon \hH\to \hH$ such which satisfies 
\begin{itemize}
\item $F=F^*$, $F^2=\mtu$,
\item $[F,\pi(a)]$ is a compact operator for each $a\in\cA$
\end{itemize}

\end{enumerate}

An \defe{even Fredholm modules}{Fredholm!module!even} is an odd Fredholm module with a $\eZ/2$ grading $\gamma\colon \hH\to \hH$ such that
\begin{itemize}
\item $\gamma=\gamma^*$, $\gamma^2=\mtu$,
\item $[\gamma,\pi(a)]=0$ for all $a\in\cA$,
\item $\gamma F=-F\gamma$.
\end{itemize}
We will almost always write $a\xi$ instead of $\pi(a)\xi$ when the underlying representation is clear. The Fredholm module $(\hH,F)$ is said to be \defe{$p$-summable}{$p$-summable Fredholm module} when $\forall a\in\cA$,
\[ 
  [F,a]\in\oL^p(\hH).
\]
One says that the Fredholm module $(\hH,F)$ is $\theta$-summable when $[F,a]\in J^{1/2}$ for all $a\in\cA$. The set $J^{1/2}$ is the two-sided ideal of compact operators $T$ such that
\[ 
  \mu_n(T)=O\big( (\ln n)^{-1/2} \big).
\]

\subsection{Cycle associated with Fredholm module}
%-----------------------------------------------

Let $(\hH,F)$ be a Fredholm module. We are going to build a cycle in the sense of section \ref{SecCyclicHomol} associated with $(\hH,F)$. For the graded algebra $\Omega=\oplus_k\Omega^k$, we begin by $\Omega^0=\cA$ and for $k>0$, we define $\Omega^k$ as the vector space spanned by operators of the form
\[ 
  a^0[F,a^1]\cdots[F,a^k]
\]
with $a^{j}\in\cA$. Except from $a^0$, this is a product of $k$ elements of $\oL^{n+1}$ which belongs to $\oL^{(n+1)/k}$ by equation \eqref{EqPropLLLsvn}. The fact that $\oL^q$ is an ideal makes that 
\[ 
  \Omega^k\subset\oL^{(n+1)/k}(\hH).
\]
The product in $\Omega$ is defined as the usual operator product.

\begin{lemma}
If $\omega\in\Omega^k$ and $\omega'\in\Omega^{k'}$, $\omega\omega'\in\Omega^{k+k'}$.
\end{lemma}

\begin{proof}
The fact that $[F,.]$ is a derivation on $\cA$ makes that 
\[ 
\begin{split}
  a^0[F,a^1]\cdots[F,a^{k}]a^{k+1}&=\sum_{j=1}^{k}(-1)^{k-j}a^0[F,a^1]\cdots[F,a^{j}a^{j+1}]\cdots[F,a^{k+1}]\\
					&\quad+(-1)^ka^0a^1[F,a^2]\cdots[F,a^{k+1}].
\end{split}
\]
This is the same computation as in equation \eqref{Eq_decmProdConnForDelta}. This is a sum of terms of the form $r^0[F,r^1]\cdots[F,r^k]$, thus the product $\omega\omega'$ reads
\[ 
  \underbrace{a^0[F,a^1]\cdots[F,a^{k}]b^0}_{\textrm{Sum of }a^0[F,r^1]\cdots[F,r^k]}[F,b^1]\cdots[F,b^k]
\]
which belongs to $\Omega^{k+k'}$.
\end{proof}
From here we have a graded algebra $\Omega^*$ with a product $\Omega^j\times\Omega^{k'}\to\Omega^{k+k'}$. As differential, we choose
\begin{equation}  \label{EqFreddDefbel}
d\omega=F\omega-(-1)^k\omega F=[F,a^0][F,a^1]\cdots[F,a^{k}].
\end{equation}
The second equality can be checked by virtue of $F[F,a]=-[F,a]F$. This differential is a \defe{graded differential}{graded differential}, i.e.
\begin{equation}
  d(\omega_1\omega_2)=(d\omega_1)\omega_2+(-1)^{k_1}\omega_1d\omega_2
\end{equation}
for all $\omega_1\in\Omega^{k_1}$. Indeed,
\[ 
\begin{split}
d(\omega_1\omega_2)&=F\omega_1\omega_2-(-1)^{k_1+k_2}\omega_1\omega_2 F\\
		&=F\omega_1\omega_2-(-1)^{k_1+k_2}\omega_1b^0[F,b^1]\cdots[F,b^{k_2}]F\\
		&=F\omega_1\omega_2-(-1)^{k_1}\omega_1\big( -[F,b^0]+Fb^0 \big)[F,b^1]\cdots[F,b^{k_2}]\\
		&=F\omega_1\omega_2+(-1)^{k_1}\omega_1d\omega_2-(-1)^{k_1}\omega_1 F\omega_2\\
		&=(d\omega_1)\omega_2+(-1)^{k_1}\omega_1 d\omega_2.
\end{split}  
\]
We also check that $d^2=0$ in the following way:
\begin{equation}
	\begin{aligned}[]
		d^2\omega&=d(F\omega-(-1)^k\omega F)\\
		&=F\big( F\omega-(-1)^k\omega F \big)+(-1)^{k}\big( F\omega-(-1)^k\omega F \big)\\
		&=\omega-(-1)^kF\omega F+(-1)^k F\omega F-\omega\\
		&=0
	\end{aligned}
\end{equation}
where we used the fact that $F^2=\mtu$.

The pair $(\Omega^*,d)$ is a graded differential algebra. We have to find a graded closed trace $\tr_s\colon \Omega^n\to \eC$. Let $T$ be an operator on $\hH$ such that $FT+TF\in\oL^1(\hH)$. We begin to define
\[ 
  \tr'(T)=\frac{ 1 }{2}\tr\big( F(FT+TF) \big).
\]
When $T\in\oL^1$, it makes sense to distribute the $F$ in the trace, in such a way that we obtain $\tr'(T)=\tr(T)$. In this case, we have
  $\tr'(T)=\frac{ 1 }{2}\tr\big( F(FT+TF) \big)=\frac{ 1 }{2}\tr(T+FTF)=\tr(T)$.
Now de define the trace $\tr_s\colon \Omega^n\to \eC$,
\[ 
  \tr_s\omega=
\begin{cases}
\tr'(\omega)&\text{if $n$ is odd},\\
\tr'(\gamma\omega)&\text{if $n$ is even}.
\end{cases}
\]
It makes sense because when $\omega\in\Omega^n$, it fulfills $F\omega+\omega F=d\omega\in\Omega^{n+1}\subset\oL^{(n+1)/(n+1)}=\oL^1$, so that we can use the usual trace. By the way, remark that the trace $\tr_s$ reads $\frac{ 1 }{2}\tr(Fd\omega)$ when $n$ is odd and $\frac{ 1 }{2}\tr(F\gamma d\omega)$ when $n$ is even.

\begin{proposition}
	The triple $(\Omega,d,\tr_s)$ is a $n$-dimensional cycle over  $\cA$ (see definition \ref{DefCycleCoh}).
\end{proposition}

\begin{proof}
Most of the work is already done; it just remains to prove that $\tr_s$ is a graded closed trace. First, we know that $d^2=0$, so the fact that $\tr_s$ only depends to $d\omega$ gives $\tr_s(d\omega)=0$. The form is thus closed.

Now we have to prove that it is a graded trace. If $\omega\in\Omega^k$ and $\omega'\in\Omega^{k'}$ with $k+k'=n$ (let us assume $n$ odd), we have
\[ 
  \tr_s(\omega\omega')=\frac{ 1 }{2}\tr\big( F(d\omega)\omega'+(-1)^{k}F\omega d\omega' \big)=\frac{ 1 }{2}\tr\big( (-1)^{k+1}(d\omega)F\omega'+(-1)^k(F\omega)d\omega' \big),
\]
but the usual trace has the property that, when $T_j\in\oL^j$ with $\frac{1}{ p_1 }+\frac{1}{ p_2 }=1$, $\tr(T_1T_2)=\tr(T_2T_1)$. So we have $\tr(F\omega d\omega')=\tr(d\omega'F\omega)$ because $F\omega\in\oL^{(n+1)/  k }$ and $d\omega'\in\Omega^{k'+1}\subset\oL^{(n+1)/(k'+1)}$. Thus we have
\[ 
  \tr_s(\omega\omega')=\frac{ 1 }{2}\big( (-1)^{k+1}d\omega F\omega'+(-1)^kd\omega' F\omega \big).
\]
This expression is symmetric or anti-symmetric with repsect to the inversion $\omega\leftrightarrow\omega'$ following that $(-1)^{kk'}$ equals $1$ or $-1$. We conclude that (at least when $n$ is odd) t
\[ 
  \tr_s(\omega\omega')=(-1)^{kk'}\tr_s(\omega'\omega).
\]
\end{proof}

The \defe{character}{character!of a cycle} is the cyclic cocycle
\begin{equation}
\tau_n(a^0,\cdots,a^{n})=
\begin{cases}
\tr'\big( a^0[F,a^1]\cdots[F,a^{n}] \big)&\text{if $n$ is odd},\\
\tr'\big( \gamma a^0[F,a^1]\cdots[F,a^{n}] \big)&\text{if $n$ is even}.
\end{cases}
\end{equation}

%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{Hochschild cohomology}
%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

\begin{proposition}
Let $(\hH,F)$ be a Fredholm module $(n+1)$-summable over $\cA$. We suppose that this module has the same parity as $n$. Then the characters $\tau_{n+2q}$ satisfy
\begin{equation}
\tau_{m+2}=-\frac{ 2 }{ m+2 }S\tau_m\in HC^{m+2}(\cA)
\end{equation}
when $m=n+2q$, with $q\geq 0$.
\end{proposition}

\begin{proof}
In order to see that $\tau\in C^n_{\lambda}(\cA)$, we have to check that the equality $\tau_n(a^1,\cdots,a^{n},a^0)=(-1)^n\tau_n(a^0,\cdots,a^{n})$ holds for all $a^i\in\cA$. We have
\[ 
\tau_n(a^0,\cdots,a^{n})=\tr'(a^0da^1\cdots da^{n})=\tr'\Big( \big( d(a^0a^1)-da^0a^1 \big)da^2\cdots da^{n} \Big)
\]
in which the first term vanishes because $d^2=0$. We go on commuting $da^0$ and we finally get $(-1)^n\tau_n(a^1,\cdots,a^n,a^0)$.

\begin{probleme}
	This proof is not finished.
\end{probleme}

\end{proof}
%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{Fredholm module and conformal structure}
%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

Let $V$ be a compact, oriented even dimensional manifold endowed with a \defe{conformal structure}{conformal structure}. That is an equivalence class of metrics where $g\sim h$ if and only if there exists a positive smooth function $\lambda$ such that $g=\lambda^2 h$.

Let $\hH_0=L^2\big( V,\Wedge^n_{\eC}(T^*V) \big)$ with the product \eqref{EqProdWedgeHOfge}. This becomes a $ C^{\infty}(V)$-module when we define
\begin{equation}
	(f\omega)(p)=f(p)\omega(p)
\end{equation}
for every $\omega\in\hH_0$, $f\in C^{\infty}(V)$ and $p\in V$. We can extend the graduation \eqref{EqGradWedge} to the Hilbert space $\hH_0$ by
\begin{equation}
	(\gamma\omega)(p)=\gamma\big( \omega(p) \big).
\end{equation}


Consider $\hH_0=L^2\big( V,\Wedge^n_{\eC}(T^*V) \big)$ be the space of square integrable sections of the bundle $\Wedge^n_{\eC}(T^*V)$ for the product

We can consider the complex space $\wedge^n_{\eC}E$ and the operator $\gamma\colon \Wedge^nE\to \Wedge^nE$,
\begin{equation}
	\gamma=(-1)^{n(n-1)/2}i^n *.
\end{equation}
This operator squares to $\mtu$, so that it creates a $\eZ/2$-graduation of $\Wedge^n_{\eC}E$.

We have 
\begin{equation}
	\frac{ 1+\gamma }{2}d(*\alpha^{n+1})=\frac{ 1 }{2}\Big( d(*\alpha^{n+1})+(-1)^s\delta\alpha^{n+1} \Big)
\end{equation}
where $s$ is a sign. We used the fact that $\delta=-*d*$. Thus the elements of $\hH_0$ of the form $\frac{ 1+\gamma }{2}d\alpha$ are orthogonal to the harmonic forms.


%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{Fredholm modules and $K$-cycles}
%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

\begin{definition}
	A \defe{K-cycle}{K-cycle} $(\hH,D)$ over an involutive algebra $(\cA,*)$ is 
	\begin{enumerate}
		\item a $*$-representation of $\cA$ on $\hH$,
		\item a selfadjoint non bounded operator $D$ with compact resolvent and such that $[D,a]$ is bounded for each $a\in\cA$.
	\end{enumerate}
\end{definition}

\begin{remark}
	The condition ``compact resolvent'' means that the operators $(D-\lambda\mtu)^{-1}$ are compact for every $\lambda$ in $\eC\setminus\Spec(D)$ (lemma \ref{LemResLcmpResLLcmp}). In particular, the kernel of $D$ is finite dimensional (corollary \ref{CorRezcomkerfin}).
\end{remark}

From a K-cycle on $\cA$ we canonically build a Fredholm module $(\hH',F)$, the Fredholm module \defe{associated}{Fredholm!module!associated with a K-cycle} with the K-cycle $(\hH,D)$, in the following way.
\begin{enumerate}
	\item
		$\hH'=\hH\oplus\ker(D)=\ker(D)^{\perp}\oplus\ker(D)\oplus\ker(D)$;
	\item
		$a(\xi,\eta)=(a\xi,0)$ for every $\xi\in\hH$ and $\eta\in\ker(D)$;
	\item
		$F=\Sign(D)\oplus F_1$.
\end{enumerate}
The definition of $F$ deserves some comments. First, $\Sign(D)$ is the sign of $D$, that is the partial isometry in the polar decomposition $D=V| D |$ of $D$. That acts on $\ker(D)^{\perp}$. The operator $F_1$ is the operator which exchanges the two copies of $\ker(D)$. More explicitly, if $\xi\in\hH$ and $\eta\in\ker(D)$,
\begin{equation}
	F(\xi,\eta)=F(\xi_1+\xi_0,\eta)=(V\xi_1+\eta,\xi_0)
\end{equation}
where $\xi=\xi_1+\xi_0$ is the decomposition of $\xi$ with respect to $\hH=\ker(D)\oplus\ker(D)^{\perp}$. In order to prove that $F^2=\mtu$, we have to show that $V^2=\mtu$ and that $V\xi_1\in\ker(D)^{\perp}$.

Since the part $\Sign(D)$ only acts on $\ker(D)^{\perp}$, we can see this operator as in equation \eqref{EqPolarSSKerSign}, that is the sign of the operator $D$ restricted to the space $\ker(D)^{\perp}$. This is an operator on $\ker(D)^{\perp}$, so that $V\xi_1\in\ker(D)^{\perp}$ and $V^2=\id_{\ker(D)^{\perp}}$.

%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{Spectral triple}
%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

\subsection{General spectral triple}
%-----------------------------------
A \defe{spectral triple}{spectral!triple} is a triple $(\cA,\hH,D)$ where
\begin{itemize}
\item $\hH$ is a Hilbert space,
\item $\cA$ is an involutive algebra of bounded operators on $\hH$ ,
\item $D$ is a self-adjoint ($D=D^*$) operator on $\hH$ such that
\begin{enumerate}
\item the resolvent $(D-\lambda)^{-1}$, $\lambda\notin\eR$ is a compact operator on $\hH$,
\item\label{item_DaDcirii} $[D,a]:=D\circ a-a\circ D$ is a bounded operator for all $a$.
\end{enumerate}
\end{itemize}
In general condition \ref{item_DaDcirii} can only be imposed on a dense subalgebra of $\cA$. 

\begin{definition}	\label{DefDimSpec}
The \defe{dimension spectrum}{dimension!of a spectral triple!spectrum} of the spectral triple $(\cA,\hH,D)$ is the set $\Pi$ of complex numbers $z$ such that $\Reel(z)\geq 0$ and $z$ is a singularity of the analytic function $\zeta_b(z)$ for $b\in\mB$ with positive real part. Here $\mB$ is the operator algebra generated by $\delta^k(a)$ and $\delta^k[D,a]$ with $a\in \cA$ and $\delta T=[| D |,T]$. When $b\in\mB$, the function $\zeta$ is given by
\[ 
  \zeta_b(z)=\tr(b| D |^{-z})
\]
which is well defined when $\Reel(z)>m$ where $m$ is the crude dimension of the triple.
\end{definition}

We say that the dimension of the triple is \defe{simple}{simple!dimension of a spectral triple}\index{dimension!of a spectral triple!simple} id the poles of the functions $\zeta_b$ are at most simple.

We say that the triple is \defe{even}{even spectral triple} if there exists an operator $\Gamma$ on $\hH$ such that
\begin{enumerate}
\item $\Gamma=\Gamma^*$,
\item $\Gamma^2=1$,
\item $[\Gamma,D]=0$ and $[\Gamma,a]=0$ for all $a\in\cA$.
\end{enumerate}
If the triple is not even, it is \defe{odd}{odd spectral triple}. The triple $(\cA,\hH,D)$ is of \defe{dimension}{dimension!of a spectral triple} $n>0$ if $| D |^{-1}$ is an infinitesimal of order $1/n$, in other words, if $| D |-n$ is infinitesimal of order $1$. A $n$-dimensional spectral triple is sometimes said to be $n$-summable. A \defe{real structure}{real!structure!on a spectral triple} on the spectral triple $(\cA,\hH,D)$ is an antilinear isometry $J\colon \hH\to \hH$ such that
\begin{align*}
J^2&=\epsilon(n)\mtu	&[a,b^0]&=0\\
JD&=\epsilon'(n)DJ	&\big[ [D,a],b^0 \big]&=0\\
J\Gamma&=(i)^n\Gamma J
\end{align*}
where $b^0=Jb^*J^*$ and $\Gamma$ is the $\eZ_2$ graduation if the triple is even; if the triple is odd, then the corresponding condition is removed. The functions $\epsilon$ and $\epsilon'$ are periodic with period $8$ and
\[ 
\begin{split}
\epsilon(n)	&=(1,1,-1,-1,-1,-1,1,1)\\
\epsilon'(n)	&=(1,-1,1,1,1,-1,1,1).
\end{split}  
\]

Notice that as direct consequence of the properties, we also have $\big[ [D,b^0] \big]=0$. When we consider a real spectral triple, we can endow $\hH$ with a bimodule structure over $\cA$ by
\[ 
  a\xi b=\pi(a)J\pi(b^*)J^*\xi.
\]
The left module structure is the usual one while the right is well defined because $J^*J=\cun$, so that
\begin{align*}
\xi(an)=Jb^*a^*J^*\xi=Jb^*J^*Ja^*J^*\xi=(\xi a)b.
\end{align*}

Two spectral triples $(\cA_i,\hH_i,\pi_i,D_i)$ are \defe{equivalent}{equivalence!of spectral triple} when there exists an unitary operator $U\colon \hH_1\to \hH_2$ such that $U\pi_1(a)U^*=\pi_2(a)$ for every $a\in\cA$ and $UD_1U^*=D_2$. If the triple is even or real, we ask moreover $U\Gamma_1U^*=\Gamma_2$ and $UJ+1U^*=J_2$.

\subsection{Commutative real triple}
%------------------------------------

When $\cA$ is commutative, the right action of $a$ is equivalent to the left action of $Ja^*J^*$ in the sense that
\[ 
  \xi(ab)=(Ja^*J^*)(Jb^*J^*)\xi
\]

\subsection{Analysis on a spectral triple}
%-----------------------------------------

The following is a direct computation.
\begin{lemma}
The operator $[D,\cdot\,]$ is a derivation of $\cA$.
\end{lemma}

\begin{lemma}
\begin{equation}
  [D,a]^*=-[D,a]
\end{equation}

\end{lemma}
\begin{proof}
It is nothing else than the fact that $D=D^*$:
\[ 
  [D,a]^*=(D\circ a)^*-(a\circ D)^*=a^*D-Da^*=[a,D]=-[D,a].
\]

\end{proof}

From definition of the spectral triple, the operator $(D-z\mtu)$ exists for all non real $z$, so the spectrum (definition \ref{def:spectre}) of $D$ is real:
\[ 
  \sigma(D)\subset \eR.
\]

\begin{probleme}
	The following statements need more theory about operators with compact resolvent.
\end{probleme}

The spectrum of $D$ is discrete and the elements $\{ \lambda_n \}$ are eigenvalues of finite multiplicity. Moreover characteristic values $\mu_n\big( (D-1)^{-1} \big)\to 0$ when $n\to\infty$ and so $| \lambda_n |=\mu_n(| D |)\to0$.

When $[D,a]$ is bounded we say that $a\in\cA$ is \defe{Lipschitz}{Lipschitz}. Let $\delta$ be the derivation on $\opB(\hH)$ defined (on a dense subspace) by
\[ 
  \delta(T)=[| D |,T].
\]
This generates a one parameter group of automorphism of $\opB(\hH)$ defined by
\begin{equation}
\alpha_s(T)= e^{is| D |}T e^{-is| D |}.
\end{equation}
We say that $a\in\cA$ is \defe{smooth}{smooth!in spectral triple} and we write $a\in C^{\infty}$ if the map 
\[ 
  s\to\alpha_s(a)
\]
is smooth. The element $a$ is of class $C^k$ when $s\to\alpha_s(a)$ is $C^k$.

\begin{proposition}
An element $a\in\cA$ is smooth if and only if $a\in\cap_{n\in\eN}\dom(\delta^n)$.
\end{proposition}

\begin{proof}
If $a$ is smooth, the existence of the derivative of $s\to  e^{is| D |}a e^{-is| D |}$ makes that $a\in\dom\delta$ because the derivative of this map is precisely $\delta$. A few computation shows that the second derivative of this map is $\delta^2$.

If, on the other hand, $a\in\cap_{n\in\eN}\dom(\delta^n)$, we have existence of all the derivatives of $s\to\alpha_s(a)$ and continuity is given by derivability
\begin{probleme}
	Is that justification correct ?
\end{probleme}

\end{proof}

\subsection{Spectral triple over a manifold}
%-------------------------------------------

Let $(M,g)$ be a Riemannian spin manifold of dimension $n$. The \defe{canonical triple}{canonic!spectral triple} on $M$ is 
\begin{enumerate}
\item $\cA= C^{\infty}(M)$,
\item $\hH=L^2(M,S)$, the bundle of square integrable spinors on $M$.
\item $D$ is the Dirac operator associated with the Levi-Civita connection of $g$.
\end{enumerate}
The rank of the spinor bundle is $2^{[n/2]}$ and the scalar product on $\hH$ is given by
\[ 
  (\psi,\phi)=\int \overline{ \psi(x) }\phi(x)\,d\mu(g)
\]
where the bar denotes the complex conjugation, $d\mu(g)$ is the measure associated with $g$ and $\overline{ \phi(x) }\phi(x)$ is the usual product in $\eC^{2[n/2]}$. The space $ C^{\infty}(M)$ is an algebra of operators on $\hH$ by simple multiplication:
\begin{equation}
(f\psi)(x):=f(x)p\psi(x)
\end{equation}
for all $f\in C^{\infty}(M)=\cA$ and $\psi\in\hH$.

Most of the interest in spectral triples over manifold comes from the following theorem.

\begin{theorem}
Let $(\cA,\hH,D)$ be the canonical triple on a manifold $M$. Then
\begin{enumerate}
\item $M$ is the structure space of the algebra $\overline{ \cA }=C(M)$, the norm closure of $\cA= C^{\infty}(M)$,
\item the geodesic distance between $p$, $q\in M$ is given by
\begin{equation} \label{eq_defdtriple}
  d(p,g)=\sup\{ | f(p)-f(q) |\tq f\in\cA\text{ and }\| [D,f] \|\leq 1 \},
\end{equation}
\item the Riemannian measure on $M$ is given by
\begin{equation}
\int_M f=c(n)\tr_{\omega}(f| D |^{-n})
\end{equation}
where $c(n)=2^{n-[n/2]-1}\pi^{n/2}n\Gamma(\frac{ n }{2})$.
\end{enumerate}

\end{theorem}

See \cite{Landi} for more complete proof and reference for even more complete proof.

\begin{proof}
The algebra $\overline{ \cA }$ is an unital commutative $C^*$-algebra. So Gelfand theorem \ref{thoGelfand} says that $\overline{ \cA }\simeq C\big( \Delta(\overline{ \cA }) \big)$, but by definition $\overline{\cA}=C(M)$, hence $M=\Delta(\overline{ \cA })$. This proves the first point.

For the second point, we use the form \eqref{eq_Dirac_deux} of Dirac operator, so
 \begin{equation}
\begin{split}
[D,f]\psi(x)&=D(f\psi)(x)-f(x)D\psi(x)\\
	&=\gamma^{\mu}(x)\big( (\partial_{\mu}f)\psi+f\partial_{\mu}\psi+f\omega_{\mu}^S\psi \big)\\
	&\quad -f(x)\gamma^{\mu}(x)\big( \partial_{\mu}\psi+\omega_{\mu}^S\psi \big)\\
	&=(\gamma^{\mu}\partial_{\mu}f)\psi.
\end{split}
\end{equation}
Hence, as multiplicative operator on $\hH$, we have $[D,f]=\gamma^{\mu}\partial_{\mu}f=\gamma(df)$ for all $f\in\cA$. The norm of this operator is
\[ 
  \| [D,f] \|=\sup | (\gamma^{\mu}\partial_{\mu}f)(\gamma^{\nu}\partial_{\nu}f)^* |^{\frac{ 1 }{2}}.
\]
One can prove (cf \cite{Landi} for a reference) that this is the Lipschitz norm of $f$:
\[ 
  \| f \|_{Lip}=\sup_{x\neq y}\frac{ | f(x)-f(y) | }{ d_{\gamma}(x,y) }
\]
where $d_{\gamma}$ is the usual geodesic distance that we want to prove to be equals to $d$. The condition $\| [D,f]\leq 1 \|$ in the definition  \eqref{eq_defdtriple} retrains us to only looks at $f$ such that 
\[ 
  \sup_{x\neq y}\frac{ | f(x)-f(y) | }{ d_{\gamma}(x,y) }\leq 1.
\]
If we fix $x=p$ and $y=q$, this condition becomes $| f(p)-f(q) |\leq d_{\gamma}(p,q)$; hence $d(p,q)\leq d_{\gamma}(p,q)$. 

We have to work out the inverse inequality. For, we fix a point $q$ and consider $f_{\gamma,q}=d_{\gamma}(x,q)$. This function fulfils $\| [D,f_{\gamma,q}] \| \leq 1$ and using this function as lower bound for the supremum which defines $d(p,q_0)$, we find
\[ 
  d(p,q)\geq | f_{\gamma,q}(p)-f_{\gamma,q}(q) |=d_{\gamma}(p,q)
\]
because $f_{\gamma,q}=d_{\gamma}(p,q)$ and $f_{\gamma,q}(q)=0$.

\end{proof}

\begin{probleme}
	The use of Gelfand's theorem at the beginning of the proof requires $M$ to be compact ?
\end{probleme}

\subsection{Distance over general triple}
%----------------------------------------

We will now show that formula \eqref{eq_defdtriple} generalises to a distance formula between states, see definition \ref{DefStateUnital}. The \defe{distance}{distance on spectral triple} is the distance on $\etS(\overline{ \cA })$ given by
\begin{equation}
d(\omega,\chi)=\sup_{a\in\cA}\{ | \omega(a)-\chi(a) |\tq \| [D,a] \|\leq 1 \}.
\end{equation}

When $(\cA,\hH,D)$ is a triple of dimension $n$, we define the \defe{integral}{integral!on a spectral triple} of $a\in \cA$ by
\begin{equation}
\int a:=\frac{1}{ V }\tr_{\omega}(a| D |^{-1})
\end{equation}
where $V$ is a constant defined by $\mu_j\leq V j^{-1}$ when $j\to\infty$. Here, $(\mu_j)$ is the sequence of characteristic values of $| D |^{-1}$. Why does $| D |^{-n}$ appears ? The operator $a$ is just bounded on $\hH$, hence the trace $\tr_{\omega}a$ makes no sense. The multiplication by $| D |^{-n}$ gives rise to an infinitesimal of order $1$ and Dixmier trace makes sense. On the other hand, the integral is normalised in the following sense:
\[ 
  \int\mtu=\frac{1}{ V }\tr_{\omega}| D |^{-n}
		=\frac{1}{ V }\lim_{N\to\infty}\sum_{j=1}^{N-1}\mu_j\big( | D |^{-n} \big)
		\leq\lim_{N\to\infty}\sum_{j=1}^{N-1}\frac{1}{ j }
		=1
\]
because $\frac{1}{ V }\mu_j(| D |^{-n})\leq j^{-1}$.

\begin{probleme}
	This only proves that $\int\mtu\leq1$, but the second line is probably
\[ 
  \frac{1}{ V }\lim_{\omega}\sum_{j=1}^{N-1}\mu_j(| D |^{-n}),
\]
and we should define $\lim_{\omega}$ in such a way that
\[ 
  \frac{1}{ V }\lim_{N\to\infty}\sum_{j=1}^{N-1}Vj^{-1}.
\]
After that, we still have to define $\lim_{\omega(V)}$ and prove that $\int a$ does not depend on its choice, on the choice of $V$ and of $\lim_{\omega(V)}$.
\end{probleme}

\subsection{Real triple}
%-----------------------

Let $(\cA,\hH,D)$ be a spectral triple of dimension $n$. A \defe{real structure}{real!structure!on a spectral triple} is an anti-linear isometry $J\colon \hH\to \hH$ such that
\begin{enumerate}
\item $J^2=\epsilon(n)\id$,
\item $JD=\epsilon'(n)DJ$,
\item $G\Gamma=i^n\Gamma J$ if $n$ is even with the grading $\Gamma$,
\item $[a,b^0]=0$,
\item $[ [D,a],b^0 ]=0$ where $b^0=Jb^*J^*$.
\end{enumerate}
The functions $\epsilon$ and $\epsilon'$ are defined modulo $8$: 
\[ 
\begin{split}
\epsilon(n)&=1,1,-1,-1,-1,-1,1,1\\
\epsilon'(n)&=1,-1,1,1,1,-1,1,1.
\end{split}  
\]

\subsection{Example: compact manifold}
%-------------------------------------

Let $M$ be a compact spin Riemannian manifold. We consider the triple $(\cA,\hH,D)$ where 
\begin{itemize}
\item $\hH$ is the Hilbert space of $L^2$ spinors on $M$,
\item $D$ is the Dirac operator on $\hH$,
\item $\cA$ is the abelian algebra of bounded measurable functions on $M$ with the multiplicative action on $\hH$.
\end{itemize}
Via the representation, space $C(M)$ of continuous functions on $M$ is seen as a subspace of the space of linear operators on $\hH$. Hence, up to a closure, we have $M=\Delta(\cA)$ and Gel'fand theorem \ref{thoGelfand} says that the compact topological space structure of $M$ is given by $\cA$. A point of $M$ is associated with an element of $\Delta(\cA)$, i.e. a homomorphism $\cA\to\eC$.

\begin{proposition}
Let $a\in\cA$. The operator $[D,a]$ is
\begin{enumerate}
\item defined on a dense subspace of $\hH$,
\item bounded if and only if $a$ is almost everywhere equals to a Lipschitz function.
\end{enumerate}

\end{proposition}
\begin{proof}
No proof.
\end{proof}

A function $f$ on the manifold $M$ is \defe{Lipschitz}{lipschitz!function} if for all $p$, $q\in M$,
\[ 
  | f(p)-f(q) |\leq C d(p,q)
\]
where $C$ is a constant and $d$ denotes the geodesic distance on $M$. Any Lipschitz function is continuous and the space of Lipschitz functions is dense in $C(M)$. Then $C(M)$ is the closure of $\cA$ in $\oL(\hH)$.

%%%%%%%%%%%%%%%%%%%%%%%%%%
%
   \section{Non commutative differential forms}
%
%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Universal differential forms}
%----------------------------------------

Let $\cA$ be an associative unital algebra on $\eC$. We are going to define step by step the \defe{universal algebra}{universal!algebra} of differential forms \nomenclature{$\Omega\cA$}{Universal algebra of $\cA$}
\[ 
  \Omega\cA=\bigoplus_p\Omega^p\cA.
\]
Existence the universal algebra will be proved by explicitly construction later. For unicity, we will prove an universality property.

First of all, $\Omega^0\cA=\cA$. Next, $\Omega^1\cA$ is the left $\cA$-module generated by the symbols $\delta a$ with $a\in\cA$ and relations
\begin{subequations}
\begin{align}
\delta(ab)&=(\delta a)b+a\delta b				\label{seq_deltaabi}\\  
\delta(\alpha a+\beta b)&=\alpha\delta a+\beta\delta b
\end{align}
\end{subequations}
for all $a$, $b\in\cA$ and $\alpha,\beta\in\eC$. A general element in $\Omega^1\cA$ is of the form $\sum_ia_i\delta b_i$, with $a_i$ and $b_i$ in $\cA$.

Equation \eqref{seq_deltaabi} with $a=1$ gives $(\delta 1)b=0$ for all $b\in\cA$, hence $\delta(1)=0$ and $\delta(\eC)=0$. So $\Omega^1\cA$ is a left $\cA$-module; we can give a structure of right $\cA$-module by defining
\[ 
  (\sum_ia_i\delta b_i)c=\sum_ia_i(\delta b_i)c,
\]
but equation \eqref{seq_deltaabi} gives $(\delta a)c=\delta(ac)-a\delta c$, therefore if $\omega=\sum_ia_i\delta b_i$,
\begin{equation}
\omega c=\sum_i a_i\delta(b_ic)-\sum a_ib_i\delta c.
\end{equation}
The rule \eqref{seq_deltaabi} is Leibnitz for the map $\delta\colon \cA\to \Omega^1\cA$, so we see $\delta$ as a derivation of $\cA$ with values in the bimodule $\Omega^1\cA$.


\subsubsection{Universal properties}
%///////////////////////////////////

The following proposition gives an universal property of $\Omega^1\cA$; in a certain sense, it is unique.

\begin{proposition}
Let $\modM$ be a $\cA$-bimodule and $\Delta\colon \cA\to \modM$ a derivation, i.e.
\[ 
  \Delta(ab)=(\Delta a)b+a\Delta b.
\]
There exists one and only one bimodule morphism $\rho_{\Delta}\colon \Omega^1\cA\to \modM$ such that $\Delta=\rho_{\Delta}\circ\delta$, i.e. the following diagram commutes:
\[ 
  \xymatrix{%
   \Omega^1\cA 		&	\\
   \cA \ar[r]_{\Delta}\ar[u]^{\delta}	&	\modM\ar@{.>}[ul]_{\rho_{\Delta}}
}
\]
\label{prop_modMununique}
\end{proposition}

\begin{proof}
First, remark that any bimodule morphism $\rho\colon \Omega^1\cA\to \modM$ makes $\rho\circ\delta$ a derivation with values in $\modM$. Indeed
\[ 
  (\rho\circ\delta)(ab)=\rho\big( (\delta a)b+a\delta b \big)
			=(\rho\circ\delta)(a)b+a(\rho\circ\delta)b
\]
Let us now prove the inverse: let $\Delta\colon \cA\to \modM$ be a derivation and $\rho_{\Delta}\colon \Omega^1\cA\to \modM$ be such that $\Delta=\rho_{\Delta}\circ\delta$. We want to prove unicity of this derivation. First, definition of $\Delta$ makes 
\begin{equation} \label{eq_rhpoDelta}
\rho_{\Delta}(\delta a)=\Delta a.
\end{equation}
This completely defines $\rho_{\Delta}$ from $\Delta$ because $\delta$ generates the whole $\Omega^1\cA$ as left $\cA$-module. Indeed the only way to extends $\rho_{\Delta}$ from \eqref{eq_rhpoDelta} as a morphism on $\Omega^1\cA$ is
\[ 
  \rho_{\Delta}\big( \sum_ia_i\delta b_i \big)=\sum_ia_i\Delta b_i.
\]
Now it is sufficient to prove that \eqref{eq_rhpoDelta} is a bimodule morphism:
\[ 
\begin{split}
\rho_{\Delta}\big( f(\sum a_i\delta b_i)g \big)&=\rho_{\Delta}\big( \sum_i fa_i[\delta(b_ig)-b_i\delta g] \big)\\
		&=\sum fa_i[\Delta(b_ig)-b_i\Delta g]\\
		&=\sum fa_i(\Delta b_i)g\\
		&=f\big( \sum ai\Delta b_i \big)g.
\end{split}  
\]

\end{proof}

The space $\Omega^p\cA$ is defined by
\[ 
  \Omega^p\cA:=\underbrace{\Omega^1\cA\ldots\Omega^1\cA}_{\text{$p$ times}}
\]
with multiplication rule
\begin{equation}
  (a_0\delta a_1)(b_0\delta b_1):=a_0(\delta a_1)b_0\delta b_1
		=a_0\delta(a_1b_0)\delta b_1-a_0a_1\delta b_0\delta b_1.
\end{equation}
This rule serves to show how to write elements of $\Omega^2\cA$ under the form $a\delta b_1\delta b_2$. Elements of $\Omega^p\cA$ are linear combination of elements of the form
\[ 
  \omega=a_0\delta a_1\delta a_2\ldots \delta a_p
\]
with $a_k\in\cA$, and the product $\Omega^p\cA\times\Omega^q\cA\to\Omega^{p+q}\cA$ is a juxtaposition and a rearrangement:
\[ 
\begin{split}
  (a_1\delta a_1\ldots\delta a_p)&(a_{p+1}\delta a_{p+2}\ldots\delta a_{p+q})\\
		&:=a_0\delta a_1\ldots (\delta a_p)a_{p+1}\delta a_{p+2}\ldots\delta a_{p+q}\\
	&=a_0\delta a_1\ldots \big[ \delta(a_pa_{p+1})-a_p(\delta a_{p+1}) \big]\delta a_{p+2}\ldots\delta a_{p+q}\\
	&=a_0\delta a_1\ldots\delta(a_pa_{p+1})\delta a_{p+2}\ldots\delta a_{p+q}\\
	&\quad -a_0\delta a_1\ldots\big[ \delta(a_{p-1}a_p)-a_{p-1}\delta a_p \big]\delta a_{p+1}\ldots\delta a_{p+q}.
\end{split}  
\]
With $p=q=3$ for example, we have
\[ 
\begin{split}
  (a_0\delta a_1\delta a_2)(a_3\delta a_4\delta a_5)&=a_0\delta a_1(\delta a_2)a_3\delta a_4\delta a_5\\
		&=a_0\delta a_1\big[ \delta(a_2 a_4)-a_2\delta a_3 \big]\delta a_4\delta a_5\\
		&=a_0\delta a_1\delta(a_2 a_3)\delta a_4\delta a_5\\
		&\quad -a_0\big[ \delta(a_1 a_2)-a_1\delta a_2 \big]\delta a_3\ldots\delta a_5\\
		&=a_0\delta a_1\delta(a_2a_3)\delta a_4\delta a_5\\
		&\quad-a_0\delta(a_1a_2)\delta a_3\ldots\delta a_5\\
		&\quad+a_0a_1\delta a_2\ldots\delta a_5,
\end{split}  
\]
and in general,
\begin{equation}    \label{Eq_decmProdConnForDelta}
\begin{split}
(a_0\delta a_1\ldots \delta a_p)&(a_{p+1}\delta a_{p+2}\ldots\delta a_{p+q})\\&=(-1)^pa_0a_1\delta a_2\ldots\delta a_{p+q}\\
	&\quad+\sum_{i=1}^p(-1)^{p-i}a_0\delta a_1\ldots\delta a_{i-1}\delta(a_ia_{i+1})\delta a_{i+2}\ldots\delta a_{p+q}.
\end{split}
\end{equation}
So $\Omega\cA$ is a left $\cA$-module. We turn it into $\cA$-bimodule by defining
\begin{equation}
\begin{split}
(a_0\delta a_1\ldots\delta a_p)b&=a_0\delta a_1\ldots(\delta a_p)b\\
		&=(-1)^pa_0a_1\delta a_2\ldots \delta a_p b\\
		&\quad+\sum_{i=1}^{p-1}(-1)^{p-i}a_0 \delta a_1\ldots \delta a_{i-1}\delta(a_ia_{i+1})\delta_{i+1}\ldots\delta a_p\delta b\\
		&\quad+a_0\delta a_1\ldots\delta a_{p-1}\delta(a_pb).
\end{split}
\end{equation}

Now we put a differential algebra structure on the $\cA$-bimodule $\Omega\cA$ by extending $\delta$ to
\begin{equation}
\begin{aligned}
 \delta\colon\Omega^p\cA&\to \Omega^{p+1}\cA \\ 
\delta(a_0\delta a_1\ldots\delta a_p)&:= \delta a_0\delta a_1\ldots \delta a_p. 
\end{aligned}
\end{equation}
One checks that
\[ 
  \delta^2=0
\]
and
\begin{equation}
  \delta(\omega_1\omega_2)=(\delta\omega_1)\omega_2+(-1)^p\omega_1\delta\omega_2
\end{equation}
for any $\omega_1\in\Omega^p\cA$ and $\omega_2\in\Omega\cA$.

If $\modE$ is a $\cA$-module, an element $\alpha\in\End_{\cA}(\modE)\otimes\Omega^1\cA$ acts on an element of $\modE\otimes_{\cA}\Omega^p\cA$ in the following way. If $\alpha=\sum_i\big( A_i\otimes_{\cA}a^i_0\delta a^i_1 \big)$, we define
\begin{equation}		\label{EqActallphaEOAp}
\alpha\big( \sum_j\xi_j\otimes_{\cA}\omega_j \big)=\sum_{ij}\big( A_i\xi_j\otimes_{\cA}a^i_0\delta a^i_1\omega_j \big)\in\modE\otimes_{\cA}\Omega^{p+1}\cA
\end{equation}
where $A_i\in\End_{\cA}(\modE)$, $a^i_j\in\cA$, $\xi_j\in\modE$ and $\omega_j\in\Omega^p\cA$. The element $\alpha$ acts in particular on $\modE$ \emph{via} the identification $\xi\in\modE\leftrightarrow\xi\otimes_{\cA}1\in\modE\otimes_{\cA}\Omega^0\cA$. In this case the result is denoted by $\alpha(\xi)$.

The following proposition gives the same type of result as proposition  \ref{prop_modMununique}.

\begin{proposition}
Let $(\Gamma,\Delta)$ a differential graded algebra and $\rho\colon \cA\to \Gamma^0$, a morphism of unital algebras.
There exists one and only one extension of $\rho$ into a differential graded algebra morphism $\tilde\rho\colon \Omega\cA\to \Gamma$ with $\tilde\rho\circ\delta=\Delta\circ\tilde\rho$:
\begin{equation}   \label{eq_diagrhotrho}
  \xymatrix{%
   \Gamma^p \ar[r]^{\Delta}\ar@{.>}[d]_{\tilde\rho}	&	\Gamma^{p+1}\ar[d]^{\tilde\rho}\\
   \Omega^p\cA \ar[r]_{\delta}				&	\Omega^{p+1}\cA
}
\end{equation}
\end{proposition}

\begin{proof}
The map $\rho\colon \cA\to \Gamma^0$ being given, we define
\begin{equation}
\begin{aligned}
 \tilde\rho\colon\Omega^p\cA&\to \Gamma^p \\ 
\tilde\rho(a_0\delta a_1\ldots\delta a_p)&:= \rho(a_0)\Delta(\rho (a_1))\ldots\Delta( \rho(a_p)). 
\end{aligned}
\end{equation}
It well defines $\tilde\rho$ since $\Omega^p\cA$ is generated by $a_0\delta a_1\ldots\delta a_p$. It sends products on products; for example with $p=2$,
\[ 
\begin{split}
  \tilde\rho\big[ (a_0\delta a_1)(b_0\delta b_1) \big]&=\rho(a_0)\Delta\rho(a_1b_0)\Delta\rho b_1\\
		&\quad-\rho(a_0a_1)\Delta\rho b_0\Delta\rho b_1\\
		&=\big[ \rho(a_0)\Delta\rho(a_1) \big]\big[ \rho(b_0)\Delta\rho b_1 \big].
\end{split}  
\]
Commutativity of diagram \eqref{eq_diagrhotrho} is as follows:
\[ 
\begin{split}
(\tilde\rho\circ\Delta)(a_0\delta a_1\ldots\delta a_p)&=\tilde\rho(\delta a_0\ldots\delta a_p)\\
		&=\Delta\rho a_0\ldots\Delta\rho a_p\\
		&=\Delta\big( \rho(a_0)\Delta\rho a_1\ldots\Delta\rho a_p \big)\\
		&=(\Delta\circ\tilde\rho)(a_0\delta a_1\ldots\delta a_p).
\end{split}  
\]

\end{proof}

\subsubsection{Cohomology}
%/////////////////////////

From definition,
\[ 
  \delta(a_0\delta a_1\ldots\delta a_p)=\delta a_0\ldots\delta a_p.
\]
If $\omega=a_0\delta a_1\ldots\delta a_p$, the only way to have $\delta\omega=0$ is $a_0=1$, i.e. $\omega=\delta(a_1\delta a_2\ldots\delta a_p)$. Then
\[ 
  H^p(\Omega\cA)=0
\]
when $p\neq 0$ because any closed form is exact. In the case $p=0$,
\[ 
  H^0(\Omega\cA)=\eC
\]
because $\delta(z)=0$ for all $z\in\eC$ while $z$ is not exact.

\subsubsection{Isomorphisms}
%//////////////////////////

\begin{lemma}
As bimodule, $\Omega^1(\cA)$ is isomorphic to $\ker m$ where $m\colon \cA\otimes_{\eC}\cA\to \cA$ is the multiplication map. The isomorphism is given by
\begin{equation}   \label{EqDEfphirov}
\begin{aligned}
 \varphi\colon \ker m&\to \Omega^1(\cA) \\ 
\sum_{j}a_i\otimes b_i&\mapsto \sum_{j}a_idb_i. 
\end{aligned}
\end{equation}

\end{lemma}

\begin{proof}
First remark that $\ker m$ is generated by elements of the form $1\otimes_{\eC}a-a\otimes_{\eC}1$. Indeed if $\sum_{j}a_jb_j=m\big( \sum_{i}a_j\otimes b_j \big)=0$, we have $\sum_{j}a_j\otimes_{\eC}b_j=\sum_{j}a_j(1\otimes_{\eC} b_j-b_j\otimes_{\eC}b_j)$.

Now consider the map 
\begin{equation}
\begin{aligned}
 \Delta\colon \cA&\to \ker m \\ 
\Delta a&= 1\otimes_{\eC}a-a\otimes_{\eC}1
\end{aligned}
\end{equation}
This map satisfies $\Delta(ab)=(\Delta a)b+a\Delta b$. Now we prove that the equation \eqref{EqDEfphirov} is surjective: $\sum_{j}a_jdb_j=\varphi\big( \sum_{j}a_j(1\otimes b_j-b_j\otimes 1) \big)$ where indeed $m\big( \sum_{j}a_j(1\otimes b_j-b_j\otimes 1) \big)=0$. 

The injectivity is evident because $\varphi\big( \sum_{j}a_j\otimes b_j \big)=\varphi\big( \sum_{j}a_j'\otimes b_j' \big)$ implies $\sum_{j}a_jdb_j=\sum_{j}a_j'db_j'$.

The fact that $\varphi$ provides an isomorphism of bimodule is
\[ 
	\varphi\big( c(a_i\otimes b_i)y \big)=\varphi\big( (xa_i)\otimes(b_i) \big)
		=xa_id(b_iy)
		=xa_i(db_i)y+x\underbrace{a_ib_i}_{=0}dy
		=x\varphi(a_i\otimes b_i)y.
\]
\end{proof}

\subsubsection{Involution}
%/////////////////////////

If the algebra $\cA$ has an involution (which is often the complex conjugation when $\cA$ is a function algebra), the universal algebra $\Omega\cA$ becomes an involutive algebra with the definition
\begin{align*}
(\delta a)^*&=-\delta(a^*),\\
(a_0\delta a_1\cdots\delta a_p)^*&=(\delta a_p)^*\cdots(\delta a_1)^*a_0^*.
\end{align*}


\subsection{Connes differential forms}
%+++++++++++++++++++++++++++++++++++

\begin{proposition}
The formula
\[ 
  \pi(a^0\delta a^1\cdots \delta a^{n})=a^0[D,a^1]\cdots[D,a^{n}]
\]
defines a $*$-representation of the reduced universal algebra on $\hH$.
\end{proposition}
\begin{proof}
No proof.
\end{proof}

\begin{proposition}
Let $J_0=\ker\pi$ and $J_0^{(k)}=\{ \omega\in\Omega^k(\cA)\tq \pi(\omega)=0 \}$. In this case, $J:=J_0+\delta J_0$ is a graded differential two-sided ideal of $\Omega^*(\cA)$.
\end{proposition}

\begin{proof}
The fact that $J$ is differential comes from the fact that $d^2=0$, but one has to remark that $J_0$ is not differential by itself because there exists some \defe{junk form}{junk form} $\omega$ such that $\pi(\omega)=0$ and $\pi(d\omega)\neq 0$. In order to see that $J$ is a left ideal, consider $\omega\in J^{(k)}$:
\[ 
  \omega=\omega_1+\delta\omega_2
\]
with $\omega_1\in J_0\cap\Omega^k$ and $\omega_2\in J_0\cap\Omega^{k-1}$. If $\omega'\in\Omega^l$, we have
\[ 
  \omega\omega'=\big( \omega_1\omega'+(-1)^k\omega_2\delta\omega' \big)+\delta(\omega_2\omega')\in J^{(k+l)}.
\]
The right side is proven in the same way.
\end{proof}

Since $J$ is an ideal, one can define
\[ 
  \Omega^*_D(\cA)=\Omega^*(\cA)/J.
\]
One can prove that for all $k\in\eN$, $\Omega^k_D(\cA)\simeq \pi(\Omega^k(\cA))/\pi\big( d(J_0\cap\Omega^{k-1}) \big)$. We consider the product 
\begin{equation}
	\langle T_1,\,T_2\rangle=\tr_{\omega}(T_2^*T_1| D |^-d)
\end{equation}
on $\pi(\Omega^k)$, and we define $\hH_k$ as the completion of $\pi(\Omega^k)$ for this product. This provides a Hilbert space in which $\pi\big( d(J_0\cap\Omega^{k-1}) \big)$ is a subspace. We denote by $P$ the projection parallel to this space.

\begin{proposition}
For all $\omega_i\in\pi\big( \Omega^k(\cA) \big)$,
\[ 
  \langle P\omega_1,\,\omega_2\rangle=\langle P\omega_1,\,P\omega_2\rangle.
\]

\end{proposition}
\begin{proof}
No proof.
\end{proof}
We denote by $\Lambda^k$ the completion of $\Omega^k_D$ with respect to this inner product. In fact, the proposition shows that the inner product can be used on $\pi(\Omega^k)$.



Let $(\cA,\hH,D)$ be a spectral triple, and $\Omega\cA$, the universal algebra of $\cA$. We consider the map
\begin{equation}	\label{EqDEfpirep}
\begin{aligned}
 \pi\colon\Omega\cA&\to \oB(\hH) \\ 
a_0\delta a_1\ldots\delta a_p&\mapsto a_0\circ[D,a_1]\circ\ldots\circ [D,a_p] 
\end{aligned}
\end{equation}
for $a_i\in\cA$. Since the operations $\delta$ and $D$ both are derivations, one can expect that $\pi$ will be a homomorphism.

\begin{proposition}
The operation $\pi$ is a homomorphism.
\end{proposition}
\begin{proof}
We will just check it in the case of $1$-forms. First, remark that
\[ 
 \begin{split}
(a_0\delta a_1)(b_0\delta b_1)&=a_0\big( \delta(a_1b_0)-a_1\delta b_0 \big)\delta b_1\\
		&=a_0\delta(a_1b_0)\delta b_1-a_0a_1\delta b_0\delta b_1.
\end{split} 
\]
Thus we have
\[ 
 \begin{split}
\pi\big( (a_0\delta a_1)(b_0\delta b_1) \big)&=a_0[D,a_1b_0][D,b_1]-a_0a_1[D,b_0][d,b_1]\\
		&=a_0[D,a_1]b_0[D,b_1]\\
  		&=\pi(a_0\delta a_1)\pi(b_0\delta b_1)
\end{split} 
\]

\end{proof}

\subsubsection{Junk forms}
%/////////////////////////

One cannot define $\pi(\Omega\cA)$ as differential forms because there exists some $\omega\in\Omega\cA$ such that $\pi(\omega)=0$ and $\pi(\delta\omega)\neq 0$. Such a form is said to be \defe{junk}{junk form}. We define
\begin{equation}  \label{eq_defJConnes}
  J_0^p=\{ \omega\in\Omega^p\cA\tq \pi(\omega)=0 \}
\end{equation}
 and $J=J_0+\delta J_0$. Then we define the \defe{Connes differential forms}{Connes differential form} as\nomenclature{$\Omega_D\cA$}{Connes differential forms}
\begin{equation}
\Omega_D\cA=\Omega\cA/J.
\end{equation}

\begin{proposition}
Let $J_0=\bigoplus_pJ_0^p$, the two-sided graded ideal of $\Omega\cA$ generated by \eqref{eq_defJConnes}.  The set $J=J_0/\delta J$ is a two-sided graded ideal of $\Omega\cA$. 
\end{proposition}

\begin{proof}
We begin by proving that $J$ is a differential algebra for the same $\delta$ as for $\cA$; the fact that $\delta^2=0$ is not a question. We have to prove that $\delta$ is internal in $J$. A general element of $J$ is $\omega=\alpha+\delta\beta$ with $\pi(\alpha)=\pi(\beta)=0$. In this case, $\delta\omega=\delta\alpha$ is of the same form. Now we want to prove that $J$ is a two-sided ideal. Let $\omega=\omega_1+\delta\omega_2\in J^p$ with $\omega_1\in J_0^p$ and $\omega_2\in J_0^{p-1}$ and consider $\eta\in\Omega^q\cA$. We have 
\[
  \omega\eta=\omega_1\eta+(\delta\omega_2)\eta
		=\omega_1\eta+\delta(\omega_2\eta)-(-1)^{p-1}\omega_2\delta\eta.
\]
The first term fulfil $\pi(\omega_1\eta)=\pi(\omega_1)\pi(\eta)=0$, the second one is the $\delta$ of something whose $\pi$ is zero  while the $\pi$ of the third one is zero. So $\omega\eta\in J$. In the same manner, we conclude that $\eta\omega\in J$ too.
\end{proof}

\begin{lemma}
We have
\begin{equation}
  \Omega\cA/J\simeq \pi(\Omega\cA)/\pi(\delta J_0).
\end{equation}
\label{lem_OCAisomppiOA}
\end{lemma}

\begin{proof}
On element of $\Omega\cA$ is of the form $[\omega]\sim [\omega+\omega_1+\delta\omega_2]$ with $\pi(\omega_1)=\pi(\omega_2)=0$. We define
\begin{equation}
\begin{aligned}
 \psi\colon \Omega\cA/J&\to \pi(\Omega\cA)/\pi(\delta J_0) \\ 
[\omega]&\mapsto [\pi(\omega)]_B
\end{aligned}
\end{equation}
where the class $[\cdots]_B$ is modulo $\pi(\delta J_0)$, in other words when $\pi(\omega)=0$, we have $[A]_B=[A+\pi(\delta\omega)]$.  The map $\psi$ is well defined because, when $\pi(\omega_1)=\pi(\omega_2)=0$,
\[ 
\psi[\omega+\omega_1+\delta\omega_2]=[\pi(\omega+\omega_1+\delta\omega_2)]_B
		=[\pi(\omega)]_B+[\pi(\delta\omega_2)]_B
		=[\pi(\omega)]
		=\psi[\omega].
\]

First suppose that $\psi[\omega]=0$, i.e $\psi[\omega]=[\pi(\delta\eta)]_B$ with $\pi(\eta)=0$. Then $\omega=\delta\eta+\sigma$ with $\sigma=0$. This is the definition of $[\omega]=0$. This proves that $\psi$ is injective. For surjectivity, consider $[\omega]_B\in\pi(\Omega\cA)/\pi(\delta J_0)$ and $\pi(\omega)$ a representative in $\pi(\Omega\cA)$. For this $\omega$, we have $\psi[\omega]=[\omega]_B$.
\end{proof}

\subsubsection{Grading the Connes differential forms}
%////////////////////////////////////////////////////

\begin{lemma}			\label{LemOmpmdDp}
The isomorphism of lemma \ref{lem_OCAisomppiOA} induces a grading 
\begin{equation} \label{eq_OpDAsimeqOpA}
  \Omega^p_D\cA\simeq \Omega^p\cA/J^p,
\end{equation}
and the differential
\begin{equation}
\begin{aligned}
 d\colon \Omega^p_D\cA&\to \Omega^{p+1}_D\cA \\ 
[\omega]&\mapsto [\delta\omega] 
\end{aligned}
\end{equation}
is well defined.
  \label{lem_isomgraODA}
\end{lemma}

\begin{proof}
 The well definiteness of the differential is because when $\pi(\omega_1)=\pi(\omega_2)$,
\[ 
d[\omega+\omega_1+\delta\omega_2]=[\delta\omega+\delta\omega_1+\delta^2\omega_2]
		=[\delta\omega].
\]
The isomorphism \eqref{eq_OpDAsimeqOpA} is given by   $\psi[\omega^p]=[\pi(\omega^p)+\pi(\delta\eta)]$ with $\pi(\eta)=0$ when $[\omega^p]\in\Omega^p\cA/J^p$, i.e. when $\omega^p\in\Omega^p\cA$.
\end{proof}

\subsubsection{\texorpdfstring{$0$}{t}-forms}
%///////////////////////

We have $J^0=J\cap\Omega^0\cA=J\cap\cA$ and $J^0=\{ a\in\cA\tq \pi(a)=0 \}$. As operators on $\hH$, $J^0=\{ 0 \}$. Therefore $\Omega^0_D\cA=\Omega^0\cA=\cA$.

Let us now briefly study the spaces of low degree forms.

\subsubsection{\texorpdfstring{$1$}{1}-forms}
%//////////////////////

From the isomorphism of lemma \ref{lem_isomgraODA}, we begin to study $\delta J_0^0$
\[ 
  J_0^0=\{ \omega\in\cA\tq\pi(\omega)=0 \}.
\]
The crucial point is that $\pi(a)=0$ implies $a=0$ when $a\in\cA$ (is is not true for any $\omega\in\Omega\cA$ !), so
\begin{equation}
\Omega^1\cA=\pi(\Omega^1\cA)
\end{equation}
and Connes $1$-forms are of the form
\[ 
  \omega_1=\sum_ja_0^j[D,a_1^j]
\]
with $a_i^j\in\cA$.

\subsubsection{Example on the canonical triple}
%///////////////////////////////////////////

%\begin{probleme}
%À ce propos, je te préviens que tu as un fichier nomé Dirac.dvi quelque part dans ta littérature qui explique la formule
%\[ 
%  [D,f]=c(df)
%\]
%quand $c$ est une action de Clifford sur un fibré vectoriel.
%\end{probleme}

Now we will use the $\gamma$ defined in subsection \ref{susec_Cliffmodule}. When we consider the canonical triple $(\cA,\hH,D)$ on a manifold $M$, $\cA\subset\Fun(M)$. We know that $\cA$ acts on $\hH$ by $(f\psi)(x)=f(x)\psi(x)$, so that $[D,f]\psi=(\gamma^{\mu}\partial_{\mu}f)\psi$. So we say that 
\[ 
  [D,f]=\gamma^{\mu}\partial_{\mu}f=\gamma(df).
\]
The Dirac operator act on functions as follows (see equation \eqref{eq_defDirac_f}):
\[ 
  (Df)(x)=g_{\alpha\beta}(x)\gamma^{\beta}_x(e_{\alpha}\cdot f),
\]
this definition is intended to get a Leibnitz rule for $D(f\psi)$. We have:
\[ 
[D,f]\psi(x)=D(f\psi)(x)-f(x)D\psi(x)\\
		=(Df)(x)\psi(x),
\]
so $[D,f]\psi=(Df)\psi$ and as operator on $\hH$, $[D,f]$ is the multiplicative operator by $Df$. When we consider a local orthonormal basis $e_{\alpha}$, we have
\[ 
(Df)(x)=g_{\alpha\beta}(x)\gamma_x^{\beta}(e_{\alpha}\cdot f)
		=\gamma^{\mu}\partial_{\mu}f(x).
\]
From all that we conclude that 
\[
  [D,f]=\gamma^{\mu}\partial_{\mu}f,
\]
and therefore that, on the canonical triple, 
\begin{equation}
\pi(\delta f)=[D,f]=\gamma^{\mu}\partial_{\mu}f.
\end{equation}
But $\gamma(df)=\partial_{\mu}f\gamma(dx^{\mu})=\gamma^{\mu}\partial_{\mu}f=\pi(\delta f)$. We will soon define the differential $d$ of $\Omega_D\cA$, so from now we denote by $d_M$ the usual differential of $M$ and we write $\pi(\delta f)=\gamma(d_Mf)$ and finally,
\begin{equation}
\pi(f_0\delta f_1\ldots \delta f_p)=f_0\gamma(d_Mf_1)\ldots\gamma(d_Mf_p).
\end{equation}
Note that $d_M\in\Gamma(M,\Cliff(M))$ and, since $\gamma$ is a morphism, 
\begin{equation} \label{EqpildotsdeltagamdM}
  \pi(f_0\delta f_1\ldots\delta f_p)=f_0\gamma(d_Mf_1\cdot\ldots\cdot d_Mf_p)
\end{equation}
where $\cdot$ denotes the Clifford product. 


\subsubsection{Differential \texorpdfstring{$0$}{0}-forms}
%-------------------------------------

\begin{lemma}
\[ 
\gamma(\Lambda^1(M))\simeq\Omega^1_D\cA
\]
\end{lemma}

\begin{proof}

A general $1$-form has the form $\sum_j f_0^jd_Mf_1^j$. Since $\gamma\colon \Gamma(M,\Cliff(M))\to \oB(\hH)$, we claim that the isomorphism is given by
\[ 
  \psi\big( f_0[D,f_1] \big)=\gamma\big( f_0d_Mf_1 \big).
\]
Surjectivity poses no problems because $f_0d_Mf_1$ is the general form of an element of $\Lambda^1(M)$. Now suppose that $\psi(f_0[D,f_1])=\gamma(f_0d_Mf_1)=0$. From linearity of $\gamma$,
\[ 
  f_0\gamma^{\mu}\partial_{\mu}f_1=0.
\]
At each point, either $f_0=0$ or $[D,f_1]=0$, so globally $f_0[D,f_1]=0$.
\end{proof}

\subsubsection{Differential \texorpdfstring{$1$}{1}-forms}
%-------------------------------------

Let $f\in\cA$ and 
  $\alpha=\frac{ 1 }{2}\big( f\delta f-(\delta f)f \big)$.
We have 
$(f\delta f)(x,y,z)=f(x)(\delta f)(y,z)
		=f(x)\big( f(y)-f(z) \big)$,
while
\[ 
  (\delta f)f(x,y,z)=\big( f(x)-f(y) \big)f(z).
\]

\begin{probleme}
	When we will speak about two points spaces, we will see that $(f\delta g)(x,y)=f(x)\big( g(y)-g(x) \big)$, and more or less the same for $(\delta f)g$. Thus what is done here is wrong and the correct result is
	\[ 
		2\alpha(x,y)=2f(x)f(y)-f(x)^{2}-f(y)^{2}.
	\]
	This does not change the conclusion, but it asks for a precise definition of $f\delta g$. Notice that, $f$ being a zero-form, and $\delta g$ a $1$-form, the product should be a $1$-form, and not a $2$-form.
\end{probleme}

This proves that $\alpha\neq 0$. The following computation uses the fact that the Leibnitz rule for $\delta$ is graded
\[ 
\delta\alpha=\frac{ 1 }{2}\big( \delta f\delta f+f\delta^2 f-(\delta^2 f)f+\delta f\delta f \big)
		=\delta f\delta f,
\]
so, on the one hand,
\[ 
\pi(\delta f)=\gamma^{\mu}\partial_{\mu}f\gamma^{\nu}\partial_{\nu}f
		=\frac{ 1 }{2}(\gamma^{\mu}\gamma^{\nu}+\gamma^{\nu}\gamma^{\mu})\partial_{\mu}f\partial_{\nu}f
		=-g^{\mu\nu}\partial_{\mu}f\partial_{\nu}f \mtu_{2^{[N/2]}}
\]
where $\mtu_{2^{[N/2]}}$ is the unit in the Clifford algebra of $\eR^n$. On the other hand,
\[ 
  \pi(\alpha)=\frac{ 1 }{2}\big( f\gamma^{\mu}\partial_{\mu}f-(\gamma^{\mu}\partial_{\mu}f)f \big)=0.
\]
This proves that $\alpha$ is a junk $1$-form.

\begin{probleme}
	It is also said that this is the general form of a junk, but I didn't succeed to prove it.
\end{probleme}

\subsubsection{Differential \texorpdfstring{$2$}{2}-forms}
%-----------------------------------

Let now take $f_{1}$, $f_{2}\in \cA$ and look at
\[ 
\begin{split}
  \gamma\big( d_{M}f_{1}\cdot d_{M}f_{2} \big)&=\gamma^{\mu}\gamma^{\nu}\partial_{\mu}f_{1j\partial_{\nu}}f_{2}\\
		&=\frac{1}{2}\big( \gamma^{\mu}\gamma^{\nu}+\gamma^{\mu}\gamma^{\nu}-\gamma^{\nu}\gamma^{\mu}+\gamma^{\nu}\gamma^{\mu} \big)\partial_{\mu}f_{1}\partial_{\nu}f_{2}\\
		&=\frac{1}{2}\big( \gamma^{\mu}\gamma^{\nu}+\gamma^{\nu}\gamma^{\mu} \big) \partial_{\mu}f_{1}\partial_{\nu}f_{2}
		 +\frac{1}{2}\big( \gamma^{\mu}\gamma^{\nu}-\gamma^{\nu}\gamma^{\mu} \big) \partial_{\mu}f_{1}\partial_{\nu}f_{2}.
\end{split}  
\]
The first term is
\[ 
  -g^{\mu\nu}\mtu\partial_{\mu}f_{1}\partial_{\nu}f_{2}=-g(dx^{\mu},dx^{\nu})\partial_{\mu}f_{1}\partial_{\nu}f_{2}\mtu=-g(d_{M}f_{1},d_{M}f_{2})\mtu.
\]
For the second term, first recall that
\[ 
  d_{M}f_{1}\wedge d_{M}f_{2}=d_{M}f_1\otimes d_{M}f_2-d_Mf_2\otimes d_Mf_1 
\]
where the $\otimes$ is, up to equivalence class, the product in Clifford. So the first term is
\[ 
  \frac{1}{2}\gamma( d_Mf_1\cdot d_Mf_2-d_Mf_2\cdot d_Mf_1 )=\gamma( d_Mf_1\wedge d_Mf_2 ).
\]
Finally we have
\begin{equation} \label{EqGamgGam}
\gamma(d_Mf_1\cdot d_Mf_2)=-g(d_Mf_1,d_Mf_2)\mtu+\gamma(d_Mf_1\wedge d_Mf_2).
\end{equation}
On the other hand, a general element of $\wedge^{2}(M)$ (the skew-symmetric differential $2$-forms on $M$) is
\[ 
  \sum_{j}^{}f_0^{j}\,d_Mf_1^{j}\wedge f_2^{j}
\]
with $f_0^{j}$, $f_1^{j}$, $f_2^{j}\in \cA$.

\begin{lemma}
\[ 
  \Omega_{D}^{2}\cA\simeq \gamma\big( \wedge^{2}(M) \big)
\]

\end{lemma}

\begin{proof}
We use the isomorphism
\[ 
  \Omega_D^2\cA\simeq\pi\big( \Omega^2\cA \big)/\pi\big( \delta(J_{0}\cap\Omega^1\cA) \big).
\]
where the elements of $J_{0}\cap\Omega^1\cA$ are of the form $\alpha_{f}=\frac{1}{2}\big( f\delta f-(\delta f)f \big)$. A general element of $\Omega_D^2\cA$ is a class of (sum of)
\[ 
  \pi(f_0\delta f_1\delta f_2),
\]
so from equation \eqref{EqpildotsdeltagamdM}, the idea is to define the candidate isomorphism $\psi$ by
\begin{equation}
\psi\Big( \big[ \gamma(f_0d_M f_1\cdot d_Mf_2) \big] \Big)=\gamma\big( d_Mf_1\wedge d_Mf_2 \big),
\end{equation}
and its linear extension. Let us compute $\psi[0]$ or $\psi[\pi\delta(\alpha_{f})]$. We have $\delta\alpha_{f}=\delta f\delta f$, so
\[ 
  \pi\delta(\alpha_{f})=\gamma(d_M f\cdot d_Mf).
\]
Thus
 \[ 
   \psi\big( [\delta\pi\alpha_{f}] \big)=\psi\Big( \big[ \gamma(d_Mf\cdot d_Mf) \big] \Big)
		=\gamma(d_Mf\wedge d_Mf)=0.
\]
We conclude that $\psi$ is well defined and injective. Surjectivity is clear.
\end{proof}

One can also prove the following generalization.

\begin{lemma}
\begin{equation}
\Omega^p_D\cA\simeq\wedge^{p}(M).
\end{equation}
\end{lemma}
\begin{proof}
No proof.
\end{proof}

\subsection{Example: two points space}		\label{SubSecTripleDeuxPoints}
%--------------------------------------

Let $Y=\{ 1,2 \}$, a space containing only two points. The space of continuous functions is $\cA=\eC\oplus\eC$ and a continuous function is of the form $f=(f_1,f_2)$ with $f_i=f(i)\in\eC$. We can build an even spectral triple of dimension zero $(\cA,\hH,D,\Gamma)$ as follows. Let $\hH_1$ and $\hH_2$ be two finite dimensional Hilbert space and $\hH=\hH_1\oplus\hH_2$. We define the action of $f\in\cA$ on $\psi\in\hH$ by
\[ 
  f\begin{pmatrix}
\psi_1\\\psi_2
\end{pmatrix}=
\begin{pmatrix}
f_1\psi_1\\f_2\psi_2
\end{pmatrix}
\]
if $\psi_i\in\hH_i$. This operator $f$ is clearly bounded on $\hH$. Let $M\colon \hH_1\to \hH_2$ be a linear map and define the operator $D$ as
\[ 
  D=\begin{pmatrix}
0& M^*\\
M&0
\end{pmatrix}.
\]
We want $[D,f]$ to be bounded, but
\[ 
  [D,f]\begin{pmatrix}
\psi_1\\\psi_2
\end{pmatrix}
=
D\begin{pmatrix}
f_1\psi_1\\f_2\psi_2
\end{pmatrix}-
\begin{pmatrix}
f_1(D\psi_1)\\
f_2(D\psi)_2
\end{pmatrix}.
\]
The component $(D\psi_1)_1$ does not affect the commutator; it is the reason why we had chosen an anti-diagonal operator $D$.

As parity map $\Gamma\colon \hH\to \hH$, we choose
\[ 
  \Gamma=\begin{pmatrix}
\id|_{\hH_1}\\ &-\id|_{\hH_2}
\end{pmatrix}.
\]
Now consider $f\in\cA$ and compute the commutator
\[ 
\begin{split}
  [D,f]\begin{pmatrix}
\psi_1\\\psi_2
\end{pmatrix}
&=
\begin{pmatrix}
f_2 M^*\psi_2\\f_1M\psi_1
\end{pmatrix}
-
\begin{pmatrix}
f_1M^*\psi_2\\f_2M\psi_1
\end{pmatrix}\\
&=(f_2-f_1)\begin{pmatrix}
M^*\psi_2\\-M\psi_1
\end{pmatrix}\\
&=(f_1-f_2)\begin{pmatrix}
0&-M^*\\M&0
\end{pmatrix}
\begin{pmatrix}
\psi_1\\\psi_2
\end{pmatrix}.
\end{split}  
\]
So 
\[ 
  \| [D,f] \|=| f_1-f_2 |\lambda
\]
where $\lambda$ is the larger eigenvalue of $\sqrt{MM^*}$. Hence the noncommutative distance between $1$ and $2$ is 
\[ 
  d(1,2)=\sup\{ | f_1-f_2 |\tq \| [D,f] \|\leq 1 \}=\frac{1}{ \lambda }.
\]
As real structure, one can take
\[ 
  J\begin{pmatrix}
\psi_1\\\psi_2
\end{pmatrix}=
\begin{pmatrix}
\overline{ \psi_2 }\\\overline{ \psi_1 }
\end{pmatrix}.
\]
Let $Y=\{ 1,2 \}$, its triple $(\cA,\hH,D)$ with $\cA=\eC\oplus\eC$. We are going to study $\Omega^1\cA$. We define $\delta f$ as being the map
\begin{equation}
	(\delta f)(x,y)=f(x)-f(y).
\end{equation}
The space $\Omega^1\cA$ is a left $\cA$-module by the definition
\begin{subequations}
\begin{equation}
(f\delta g)(x,y)=f(x)\delta g(x,y).          \label{SubEqfdeltagxya}  
\end{equation}
Now the Leibnitz rule imposes the following structure of right module:
\begin{equation}
	(\delta f)g(x,y)=(\delta f)(x,y)g(y).   \label{SubEqfdeltagxyb}
\end{equation}
\end{subequations}
Indeed $(\delta f)g=\delta(fg)-f\delta g$, so that
\begin{align*}
(\delta f)g(x,y)&=\delta(fg)(x,y)-f(x)(\delta g)(x,y)\\
		&=f(x)g(x)-f(y)g(y)-f(x)g(x)+f(x)g(y)\\
		&=\big( f(x)-f(y) \big)g(y)\\
		&=(\delta f)(x,y)g(y).
\end{align*}

\begin{probleme}
	I do not understand why things are like that, but if we look at an usual $1$-form on $\eR^N$, we need two vectors in order to get a number. For the $1$-form $\omega$ we need $x$ and $X$ in order to get $\omega_x(X)\in\eR$. As far as the multiplication by a function is concerned we write
\[ 
  (f\omega)_{x}(X)=f(x)\omega_{x}(X).
\]
Thus we have something like $(f\omega)(x,X)=f(x)\omega(x,X)$. This is more or less the philosophy of \eqref{SubEqfdeltagxya}. For \eqref{SubEqfdeltagxyb}, the fact that $g$ takes the $y$ instead of the $x$ is difficult to understand.
\end{probleme}
It gives 
\begin{subequations}
\begin{align}
  (f\delta g)(x,y)&=f(x)\big( g(y)-g(x) \big)\\
 (\delta f)g(x,y)&=\big( f(y)-f(x) \big)g(y),
\end{align}
\end{subequations}
and thus
\begin{align*}
\delta(fg)(x,y)&=(\delta f)g(x,y)+f(\delta g)(x,y)\\
		&=f(y)g(y)-f(x)g(x)\\
		&=(fg)(y)-(fg)(x),
\end{align*}
which is coherent.

The $1$-forms are functions of two variables which are zero on the diagonal. In the case of our two point space, they takes non zero values only at $(1,2)$ and $(2,1)$, so a basis of $\Omega^1\cA$ is given by $\omega$ and $\eta$ with 
\begin{align}
\omega(1,2)&=1 &\eta(1,2)&=0\\
\omega(2,1)&=0 &\eta(2,1)&=1.
\end{align}
Such a basis can be constructed by defining $e(0)=0$, $e(1)=1$ and considering $e\delta e$ and $(1-e)\delta(1-e)$.

\subsection{Example: manifold}
%---------------------------------

Let $M$ be a compact spin Riemannian manifold and $\cA$ the algebra of (continuous or more) functions on $M$. We also consider $D$, the Dirac operator on $\hH$, the space of the square integrable spinors over $M$. The algebra $\cA$ acts on $\hH$ by multiplication.

Let $C$ be the vector bundle over $M$ whose fibre are given by $C_x=\Cliff^{\eC}(T^*_xM)$. It is possible to define the notion of bounded measurable section of $C$. Let $\rho\colon M\to C$ one of them.

\begin{probleme}
	What is a bounded measurable section of $C$ ?
\end{probleme}

Since $f\in\cA$ is a function on $M$, the element $df$ is a section of $T^*M$ and can, up to the quotient \eqref{defI}, be seen as a section of $C$. When $df$ is seen in this way, it is denoted by $d_cf$ and we have
\[ 
  \pi(f^0df^1)=f^0[D,f^1]=i^{-1}\gamma(f^0d_cf^1).
\]

\begin{probleme}
It is true that
\[ 
  [D,f]=c(df)
\]
when $c$ is a Clifford action on a vector bundle. I should try to understand it better.
\end{probleme}


%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{Non commutative vector bundle}


%---------------------------------------------------------------------------------------------------------------------------
					\subsection{The category of complex vector bundles}
%---------------------------------------------------------------------------------------------------------------------------

In order to define the concept of noncommutative vector bundle, we have to get a more precise comprehension of a commutative vector bundle. Let $M$ be a compact manifold and $\catC$ be the category of complex vector bundle over $M$ in which the arrows are the vector bundle isomorphisms, i.e. maps of the form $\tau\colon E\to E'$ such that $\pi'\circ\tau=\pi$ and $\tau_x\colon E_x\to E'_x$ being a linear map with obvious notations. One usually denote $\Gamma(E)= C^{\infty}(M,E)$.

If $\tau\colon E\to E'$ is an isomorphism of vector bundle, we denote by $\Gamma\tau$ the map
\begin{equation}
\begin{aligned}
 \Gamma\tau\colon \Gamma(E)&\to \Gamma(E) \\ 
   (\Gamma\tau)s&\mapsto =\tau\circ s. 
\end{aligned}
\end{equation}
Let $\cA$ be a (not yet determined) dense subalgebra of $ C^{\infty}(M)$.
For every $a\in\cA$ and $x\in M$, the map $\Gamma\tau$ satisfies $(\Gamma\tau)(sa)=(\Gamma\tau)(s)a$, so that $\Gamma\tau$ is a morphism of right $\cA$-module.

Let $\catC$ be the category of vector bundle over $M$ in which the arrows are isomorphisms of vector bundle, and $\catD$, the category of right $\cA$-modules. We define the functor $\Gamma$ from $\catC$ to $\catD$ which to each vector bundle make correspond the right $\cA$-module of its sections. An arrow $\tau\colon E\to E'$ is transformed into the arrow $(\Gamma\tau)(s)=\tau\circ s$.

That functor respects the tensor product in the sense that $\Gamma(E\otimes E')=\Gamma(E)\otimes_{\cA}\Gamma(E')$ where $\otimes_{\cA}$ denotes the tensor product with the relation $sa\otimes s'=s\otimes as'$ for every $s\in\Gamma(E)$, $s'\in\Gamma(E')$ and $a\in\cA$.

\begin{proposition}
Any $\cA$-linear map from $\Gamma(E)$ to $\Gamma(E')$ is of the form $\Gamma\tau$ for an unique map $\tau\colon E\to E'$.
\end{proposition}

\begin{proof}
No proof.
\end{proof}

Let us now study the image of the functor $\Gamma$: what are the $\cA$-modules of the form $\Gamma(E)$ ? First, remark that, for the trivial bundle $E=M\times\eC^r$, then the image is the free $\cA$-module $\Gamma(E)=\cA^r$. Let us now take a more general vector bundle $E$. Compactness of $M$ provide us partition of unity $\psi_i\colon  \mU_i\to \eR$ with $\psi_i>0$ and $\psi_1^2+\ldots+\psi_q^2=1$. For sake of notational simplicity, we denote $\mU_{ij}=\mU_i\cap\mU_j$.  We suppose without loss of generality that $E$ is trivial over each of the $\mU_i$. The transition functions $f_{ij}\colon \mU_{ij}\to \GL(r,\eC)$ are subject to the relations $f_{ik}f_{kj}=f_{ij}$ on $\mU_{ijk}$. Let us pose
\begin{equation}
 p_{ij}=
\begin{cases}
	\psi_if_{ij}\psi_j&\text{in $\mU_{ij}$}\\
	0&\text{outside}
\end{cases}
\end{equation}
One easily finds that
\[ 
  \sum_kp_{ij}p_{kj}=p_{ij},
\]
so that $p$ is an element of $M_{qr}(\cA)$ with the property that $p^2=p$. Now a section of $E$ is given by the local functions $s_j\colon \mU_j\to \eC^r$ given by $s_i=f_{ij}s_j$ on $\mU_{ij}$ and can be seen as a column
\begin{equation}
s=
\begin{pmatrix}
\psi_1s_1\\\vdots\\\psi_qs_q
\end{pmatrix}\in C^{\infty}(M)^{qr}.
\end{equation}
Let us compute $ps$:
\[ 
\begin{split}
(ps)_i	&=\sum_kp_{ik}s_k
	=\sum_kp_{ik}\psi_ks_k\\
	&=\sum_k\psi_if_{ik}\psi_k\psi_ks_k
	=\sum_k\psi_if_{ik}\psi_k^2f_{ki}s_i\\
	&=\psi_is_i\sum_k\psi_k^2
	=\psi_is_i=s_i,
\end{split}  
\]
so that $ps=s$. Thus we identify $\Gamma(E)$ with $p\cA^{qr}$ with $r$ being the dimension of the vector bundle and $q$, the number of open sets needed to have a partition of unity in the same time as a trivialization of $E$. The Serre-Swan\index{Serre-Swan theorem} theorem provides the result in the inverse sense.
\begin{theorem}[Serre-Swan]
Every right $\cA$-module of the form $p\cA^m$ with $p$, an idempotent element of $M_m(\cA)$ is of the form
\[ 
  \Gamma(E)= C^{\infty}\big( M(\cA),E \big)
\]
where the fibre over $\mu\in M(\cA)$ is the vector space $p\cA^m\otimes_{\cA}(\cA/\ker\mu)$ whose dimension is the trace of the matrix $\mu(p)\in M_m(\eC)$.
\end{theorem}
So $\Gamma$ is a functor between the category of complex vector bundle over $M$ and the category of finite projective $C^{\infty}(M)$-modules. The content of the Serre-Swan theorem is that that functor has an inverse, so that the two categories are equivalent.

That motivates the following definition
\begin{definition}
A \defe{noncommutative vector bundle}{noncommutative!vector bundle} is a right finite projective module over an algebra which is not specially commutative.
\end{definition}
Most of time we study modules overs algebras whose are dense subalgebra of a $C^*$-algebra.


\section{Hermitian structure and compatible connection}
%++++++++++++++++++++++++++++++++++++++++++++++++++++++

\subsection{Hermitian structures}
%---------------------------------

The motivation of the following definitions is the fact that when $\cA$ is an involutive algebra of functions on the manifold $M$, any vector bundle is characterised by its  $\cA$-module $\modE$ of sections which have the same regularity as the functions in $\cA$. If $E$ is locally trivial and has finite dimension, $\modE$ is a direct sum of free modules $\cA^N$ and $\modE$ is a finite projective bundle on $\cA$.

The data of an inner product $\langle .,\,.\rangle_x$ on each fibre $E_x$ provides a sesquilinear form
\begin{equation}
\begin{aligned}
 \langle .,\,.\rangle\colon \modE\times\modE&\to \cA \\ 
\langle \xi,\,\eta\rangle(x)&=  \langle \xi(x),\,\eta(x)\rangle_x.
\end{aligned}
\end{equation}
This product fulfils the following relations for every $\xi$, $\eta\in\modE$ and for all $a$, $b\in\cA$: 
\begin{enumerate}
\item $\langle \xi a,\,\eta b\rangle=a^*\langle \xi,\,\eta\rangle b$,
\item $\langle \xi,\,\xi\rangle\geq 0$,
\item $\modE$ is self-dual for the product.
\end{enumerate}
The first comes from the following simple computation:
\[ 
  \langle \xi a,\,\eta b\rangle(x)=\langle \xi(x) a(x),\,\eta(x)b(x)\rangle_x=a(x)^*b(x)\langle \xi(x),\,\eta(x)\rangle_x=\big((a^*b)\langle \xi,\,\eta\rangle\big)(x)
\]
In the present case, the algebra $\cA$ is commutative and $a^*b\langle \xi,\,\eta\rangle=a^*\langle \xi,\,\eta\rangle b$, but since we will soon pass to a more general case, the right hand side form is more natural.

\begin{definition}
Let $\cA$ be an unital involutive algebra and $\modE$, a finite projective module over $\cA$. An \defe{hermitian structure}{hermitian!structure on a module} on $\modE$ is a sesquilinear map $ \langle .,\,.\rangle\colon \modE\times\modE\to \cA$ which fulfils the three conditions above.
\end{definition}
Notice that an hermitian structure is not a map $\modE\times\modE\to \eC$ because, in the noncommutative picture, elements of $\modE$ correspond to sections of $E$, not to \emph{elements} of $E$. But on the sections we have $\langle s, s'\rangle (x)=\langle s(x),s'(x)\rangle \in \eC$, so that the pairing of two sections is a functions, which corresponds to an element of $\cA$.

A \defe{pre-$C^*$-module}{pre-$C^*$-module} structure on a dense subalgebra $\cA$ of the $C^*$-algebra $A$ is a right module $\modE$ over $\cA$ endowed with an Hermitian structure. If $\| . \|_A$ is the $C^*$-norm of $A$, we can put the norm 
\begin{equation}
	\| s \|_{\modE}=\sqrt{\| (s|s) \|_A}
\end{equation}
on $\modE$. The completion of $\modE$ for that norm gives rise to a $C^*$-module.

The typical example of that is a vector bundle $E\to M$ endowed with an hermitian structure, i.e. a product $\langle ., .\rangle_x\colon E_x\times E_x\to \eC$ on each fibre. One consider the $ C^{\infty}(M)$-module $\modE=\Gamma(E,M)$ of sections and the product
\begin{equation}
\begin{aligned}
 \langle ., .\rangle\colon \modE\times\modE&\to C^{\infty}(M)  \\ 
   \langle \eta_1, \eta_2\rangle (x)&= \langle \eta_1(c), \eta_2(c)\rangle_x. 
\end{aligned}
\end{equation}
One immediately checks that it fulfils the three conditions 
\begin{enumerate}
\item $\langle \eta_1a, \eta_2b\rangle= a^*\langle \eta_1, \eta_2\rangle b$,
\item $\langle \eta_1, \eta_2\rangle^*=\langle \eta_2, \eta_1\rangle $,
\item $\langle \eta, \eta\rangle \geq 0$ and $\langle \eta, \eta\rangle =0$ if and only if $\eta=0$.
\end{enumerate}

The \defe{dual module}{dual!of a module} of the right module $\modE$ is the module
\[ 
  \modE'=\{ \phi\colon \modE\to \cA\tq \phi(\eta a)=\phi(\eta)a \}.
\]
The right module structure being defined by $\phi a=a^*\phi\in\modE'$. One says that the Hermitian structure is \defe{nondegenerate}{nondegenerate!hermitian structure} when the map $\eta\mapsto\langle \eta, .\rangle $ is an isomorphism between $\modE$ and $\modE'$. We denote by $U_N(\cA)=U(\cA^N)$ the space of unitary endomorphisms of the free module $\cA^N$.

The free $\cA$-module $\cA^N$ accepts the structure of pre-$C^*$-module by
\begin{equation}	\label{EqHermCanN}
(r|s) = \sum_{j=1}^N r^*_js_j.
\end{equation}

\begin{lemma}		\label{Lemqqstarherm}
If $q\in\eM_N(\cA)$, the product \eqref{EqHermCanN} fulfills 
\[ 
 (q^*\xi|\eta)=(\xi|q\eta)
\]
where $q^*$ is the matrix defined by $(q^*)_{ij}=(q_{ji})^*$ where, in the right hand side, the star denotes the involution on $\cA$.
\end{lemma}

\begin{proof}
The proof is a simple computation:
\begin{align*}
(p^*\xi|\eta)	=\sum_j(p^*\xi)_j^*
		=\sum_{jk}\big( (p^*)_{jk}\xi_k \big)^*\eta_j
		=\sum_{jk}\xi_k^*(p^*)_{jk}^*\eta_j
		=\sum_{jk}\xi^*_k p_{kj}\eta_j
		=\sum_k\xi_k^*(p\eta)_k
		=(\xi|p\eta).
\end{align*}
\end{proof}

We suppose that the $\cA$-module $\modE$ can be written as $\modE=p\cA^N$ for a certain $N\in \eN$ and an idempotent element\footnote{Notice that $p\cA^N\neq\cA^N$ in general because $a\cA\neq\cA$ in general. This situation is different of a group situation where $gG=G$ for any element $g\in G$.} $p\in M_N(\cA)$. Since $\modE$ is self-dual for the hermitian structure, the data of $\langle \xi,\,\eta\rangle$ for all $\eta\in\modE$ defines $\xi$. So we can define an involution $T\mapsto T^*$ on $\End_{\cA}(\modE)$ by the formula
\[ 
  \langle T^*\xi,\,\eta\rangle=\langle \xi,\,T\eta\rangle
\]
for all $\xi$,$\eta\in\modE$.

What we want to do is to put the restriction of the canonical structure \eqref{EqHermCanN} to $p\cA^N$ (with $p^2=p$) as Hermitian structure on $\modE$. 

\begin{proposition}
The canonical structure \eqref{EqHermCanN} restricts to $p\cA^N$ only if $p=p^*$.
\end{proposition}

\begin{proof}
We pose $\modE=p\cA^N$ and 
\[ 
  \modE^{\perp}=\{ u\in\cA^N\tq (u|\eta)=0\text{ for all $\eta\in\modE$} \}.
\]
If $u\in\modE^{\perp}$, we have $(ua|\eta)=a^*(u|\eta)=0$, so that $\modE^{\perp}$ is a right $\cA$-module. Take $u\in\cA^N$ and $\eta\in\modE$, we have
\[ 
  \big( (1-p^*)u | \eta\big) =\big( u | (1-p)\eta\big) =0,
\]
so that $(1-p^*)\cA^N\subseteq\modE^{\perp}$. let us now try to express $\modE^{\perp}$ as $q\cA^N$. For every $\xi$ and $\eta$ in $\cA^N$, we must have
\[ 
  0=( q\xi | p\eta) =( p^*q\xi | \eta),
\]
which proves that $p^*q=0$ because we suppose the hermitian structure to be nondegenerate. The image of $q$ is contained in the kernel of $p^*$, so that $q=r(1-p^*)$ for a certain operator $r\colon \ker(p^*)\to \ker(p^*)$. Since $(1-p^*)\cA^N\subseteq q\cA^N$, the operator $r$ must have an empty kenrel. So as set, $r(1-p^*)\cA^N=(1-p^*)\cA^N$. What we proved up to now is that
\[ 
  \modE^{\perp}=(p\cA^N)^{\perp}=(1-p^*)\cA^N.
\]
But the free module $\cA^N$ decomposes as $\cA^N=p\cA^N\oplus (1-p)\cA^N$. The canonical hermitian structire on $\cA^N$ restricts to $p\cA^N$ only if that decomposition is orthogonal with respect to the Hermitian product, so the condition is $(1-p)\cA^N=(p\cA^N)^{\perp}=(1-p^*)\cA^N$, or $p=p^*$.
\end{proof}

From now we suppose the module $\modE=p\cA^N$ to fullfil the condition $p=p^2=p^*$.

%---------------------------------------------------------------------------------------------------------------------------
					\subsection{Morita equivalence}
%---------------------------------------------------------------------------------------------------------------------------

If $\modE$ is a right $\cA$-module , we define its \defe{conjugate module}{conjugate!module} as
\begin{equation}
\bar\modE=\{ \bar s\tq s\in\modE \}
\end{equation}
with a left $\cA$-module structure $(a\bar s)=\overline{  sa^* }$. When $\modE=p\cA^N$, we have $\bar\modE=\overline{ \cA^N }p$ and its elements have to be seen as row-vectors. 

Let $\modE$ be a projective $\cA$-module of finite type. An operator on $\modE$ is a \defe{ket-bra}{ket-bra operator} if it is of the form
\begin{equation}
\begin{aligned}
 \ketbra{\eta_1}{\eta_2} \colon \modE&\to \modE \\ 
   \xi&\mapsto \eta_1( \eta_2 | \xi)  
\end{aligned}
\end{equation}
Since $\eta_1( \eta_2 | \xi a) =\eta_1( \eta_2 | \xi) a$ for every $\xi$, $\eta_1$, $\eta_2\in\modE$ and $a\in\cA$, the ket-bra commutes with the right action of $\cA$ on $\modE$, so that one can write 
\[ 
  \ketbra{\eta_1}{\eta_2} \xi a
\]
without ambiguities. The composition of ket-bra is still a ket-bra:
\begin{equation}
\Big( \ketbra{\xi_1}{\xi_2}  \Big)\big( \ketbra{\eta_1}{\eta_2}  \big)\sigma = \ketbra{\xi_1}{( \eta_1 | \xi_2) \eta_2} \sigma.
\end{equation}
The algebra of finite sums of ket-bras is an algebra that we denote by $\End_{\cA}(\modE)$\nomenclature[D]{$\End_{\cA}(\modE)$}{The algebra of ket-bras on the module $\cA$}.

If $V$ is a vector space, it is a known fact that $\End(V)=V\otimes V^*$. The same kind of identification holds for modules.
\begin{proposition}
The map
\begin{equation}
\begin{aligned}
 \End_{\cA}(\modE)&\to \modE\otimes_{\cA}\bar\modE  \\ 
   \ketbra{\xi_1}{\xi_2} &\mapsto \xi_1\otimes\bar\xi_2 
\end{aligned}
\end{equation}
is an isomorphism.
\end{proposition}

\begin{proof}
Any element of $\modE\otimes_{\cA}\bar\modE$ can be written under the form $(\xi_1 a)\otimes_{\cA}\bar\xi_2$, with eventually $a=1$. We are going to prove that if 
\begin{equation}		\label{Eqhypunxiaotibarxi}
(\xi_1 a)\otimes_{\cA}\bar\xi_2=\eta_1\otimes\bar\eta_2,
\end{equation}
 then $\ketbra{\xi_1 a}{\xi_2} =\ketbra{\eta_1}{\eta_2} $. If \eqref{Eqhypunxiaotibarxi} is true, then $\eta_1=\xi_1$ and $\bar\eta_2=a\bar\xi_2$, or $\xi_1a=\eta_1$ and $\xi_2=\eta_2$. The conclusion is immediate in the second case. In the first case, we have
\[  
  \ketbra{\xi_1 a}{\xi_2} \sigma=\xi_1 a( \xi_1 | \sigma) =\xi_1( \xi_2 a^* | \sigma) =\eta_1( \eta_2 | \sigma) =\ketbra{\eta_1}{\eta_2} \sigma.
\]
\end{proof}

Now we pose $\cB=\End_{\cA}(\modE)$, and $\modE$ becomes a left $\cB$-module, so that one says that $\modE$ is a $\cB$-$\cA$-bimodule. We have $\cB=p\eM_N(\cA)p$, and we denote an element of $\cB$ by $\varphi_A=pAp$. We have $(\varphi_A)^*=\varphi_{A^*}=pA^*p$ because we assume $p=p^*$. As particular case of lemme \ref{Lemqqstarherm}, we have $( \xi | \varphi_A\eta) =( \varphi_A^*\xi | \eta) $.

The algebra $\cB=\End_{\cA}(\modE)$ acts at right on $\bar\modE$ by
\begin{equation}
	\bar\eta\varphi_A=\overline{ \varphi_A^*\eta }.
\end{equation}
We are now able to consider the tensor product $\bar\modE\otimes_{\cB}\modE$ in which
\begin{equation}		\label{EqDeftensoeurB}
	\bar\eta\otimes_{\cB}(\varphi_A\xi)=\overline{ \varphi_A^*\eta }\otimes_{\cB}\eta.
\end{equation}
\begin{proposition}
The map
\begin{equation}
\begin{aligned}
 \psi\colon \bar\modE\otimes_{\cB}\modE&\to \cA \\ 
   \bar\eta\otimes_{\cB}\xi&\mapsto ( \eta | \xi)  
\end{aligned}
\end{equation}
is an isomorphism of $\cA$-bimodule.
\end{proposition}

\begin{proof}
The map $\psi$ is well defined because of relation \eqref{EqDeftensoeurB}. For the surjectivity, we use the assumption of non degenerate Hermitian structure. We have to prove that $\{ ( \xi | \eta) \tq \xi\, \eta\in\modE  \}=\cA$. Pick any $\xi_0\in\modE$ and define a map $\phi\colon \modE\to \cA$ such that $\phi(\xi_0)=a$ and $\phi(\eta b)=\phi(\eta)b$. In this case, there exists a $\eta\in\modE$ such that $\phi(\xi)=( \eta | \xi) $. For this $\eta$ we have $( \eta | \xi_0)=a$.

\begin{probleme}
	I'm not able to prove injectivity.
\end{probleme}

\end{proof}

\subsection{Differential over a module}
%---------------------------------------

We have now to extend the definition of $\delta$ from $\cA$ to $\modE=p\cA^N$. In that purpose we begin to extend $\lambda$ and $p$ of page \pageref{PgdeflambdaMod} as
\begin{equation}
\begin{aligned}
 p\colon \eC^N\otimes_{\eC}\Omega^p\cA&\to \modE\otimes_{\cA}\Omega^p\cA \\ 
   \sum_{i}e_i\otimes_{\eC}\omega_i&\mapsto \sum_ip(f_i)\otimes_{\cA}\omega_i 
\end{aligned}
\end{equation}
and
\begin{equation}
\begin{aligned}
 \lambda\colon \modE\otimes_{\cA}\Omega^p\cA&\to \eC^N\otimes_{\eC}\Omega^p\cA \\ 
   \lambda(\xi\otimes_{\cA}\omega)&=\sum_i e_i\otimes_{\eC}\xi^i\omega
\end{aligned}
\end{equation}
if $\lambda(\xi)=\sum_ie_i\otimes_{\eC}\xi^i$. Now we define $p\delta\colon\modE\otimes_{\cA}\Omega^p\cA\to \modE\otimes_{\cA}\Omega^{p+1}\cA$ by
\[ 
  p\delta=p\circ(\mtu\otimes\delta)\circ\lambda.
\]
In order to see what is going on, let us apply that on a general element of $\modE\otimes_{\cA}\Omega^p\cA$:
\begin{align*}
\big( p\circ(\mtu\otimes\delta)\circ\lambda \big)p\big( \sum_ie_i\otimes_{\eC}\omega_i \big)	&=p\circ(\mtu\otimes\delta)\big( \sum_ie_i\otimes_{\eC}\omega_i \big)\\
			&=p\big( \sum_ie_i\otimes_{\eC}\delta\omega_i \big)\\
			&=\sum_ip(f_i)\otimes_{\cA}\delta\omega_i.
\end{align*}
The definition of $pd\xi$ is in the same way: if $\xi=p\big( \sum_ie_i\otimes_{\eC}\omega_i \big)$, we pose
\begin{equation}
pd\xi=\sum_ip(f_i)\otimes_{\cA}d\omega_i.
\end{equation}



\subsection{Connections over Hermitian modules}
%----------------------------------------------

\begin{definition}
Let $\modE$ be a finite projective hermitian module on $\cA$. A \defe{connection}{connection!on an hermitian module} is a linear map $\nabla\colon \modE\to \modE\otimes_{\cA}\Omega^1_D(\cA)$ such that
\begin{equation}
\nabla(\xi a)=(\nabla\xi)a+\xi\otimes da
\end{equation}
for all $\xi\in\modE$ and $a\in\cA$. Recall that $da$ means $[D,a]$ in the operator representation. The connection is said to be \defe{compatible with the hermitian structure}{compatible!connection} if
\begin{equation}
 \langle \xi,\,\nabla\eta\rangle-\langle \nabla\xi,\,\eta\rangle=d\langle \xi,\,\eta\rangle.
\end{equation}
We denote by $\mC(\modE)$\nomenclature[D]{$\mC(\modE)$}{The space of compatible connections on the module $\modE$} the space of compatible connections.

\end{definition}
The latter deserve some comments. First, $\langle \xi,\,\eta\rangle\in\cA$, so that $d\langle \xi,\,\eta\rangle$ makes sense. Second, we have to define $\langle .,\,.\rangle$ when there are a component in $\Omega^1(\cA)$. We naturally define
\[ 
  \langle \xi,\,\varphi\otimes_{\cA}\omega\rangle=\underbrace{\langle \xi,\, \varphi\rangle}_{\in\cA}\omega.
\]
which is a well defined element in $\Omega^1_D(\cA)$. There are no kind of left Leibnitz rule in the definition of a connection. There always exists a compatible connection. For example the \defe{Grassmann connection}{grassmann connection} defined by
\begin{equation}
\nabla_0\xi=p\eta
\end{equation}
if $\eta_j=d\xi_j$. That connection is compatible because
\begin{equation}
\begin{split}
  d\langle \eta,\,\xi\rangle&=d\big( \sum_{i=1}^{N}\eta_i^*\xi_i \big)=\sum d\eta_i^*\xi_i+\sum \eta_i^*d\xi_i
		=\sum (-)(d\eta_i)^*\xi_i+\sum \eta_i^*d\xi_i\\
		&=-\langle d\eta,\,p\xi\rangle+\langle p\eta,\,d\xi\rangle=-\langle pd\eta,\,\xi\rangle+\langle  \eta,\,pd\xi\rangle
	=-\langle \nabla_0\eta,\,\xi\rangle+\langle \eta,\,\nabla_0\xi\rangle
\end{split}
\end{equation}
where we used the fact that $p=p^*$.


We denote by $C(\modE)$\nomenclature[D]{$C(\modE)$}{the space of compatible connections on the hermitian module $\modE$} the space of compatibles connections on $\modE$, and the \defe{unitary group}{unitary!group!of a module} of $\modE$ is 
\[ 
  \gU(\modE)=\{ u\in\End_{\cA}(\modE)\tq uu^*=u^*u=1 \}.
\]
This group acts by conjugation on $C(\modE)$ following the formula $\gamma_u(\nabla)=u\nabla u^*$, or more explicitly:
\begin{equation}
(\gamma_u\nabla)\xi=u\nabla(u^*\xi).
\end{equation}
One easily checks that $\gamma_u(\nabla)$ is a compatible connection when $\nabla$ is a compatible connection:
\[ 
\begin{split}
(\gamma_u\nabla)(\xi a)&=u\nabla(u^*\xi a)=u\big( \nabla(u^*\xi)a+u^*\xi\otimes da \big)\\
		&=u\nabla(u^*\xi)a+\xi\otimes da=\big( \gamma_u(\nabla)\xi \big)a+\xi\otimes da,
\end{split}  
\]
and, using the sesquilinearity, 
\[ 
\begin{split}
   \langle \xi,\,(\gamma_u\nabla)\eta\rangle-\langle (\gamma_u\nabla)\xi,\,\eta\rangle&=\langle \xi,\,u\nabla(u^*\eta)\rangle-\langle u\nabla(u^*\xi),\,\eta\rangle\\
		&=\langle u^*\xi,\,\nabla(u^*\eta)\rangle-\langle \nabla(u^*\xi),\,u^*\eta\rangle,
\end{split}  
\]
which gives the compatibility using the compatibility of  $\nabla$.

\subsection{Universal compatible connection}
%-------------------------------------------

An \defe{universal compatible connection}{universal!compatible connection} on a finite projective Hermitian module $\modE$ is a map $\nabla\colon \modE\to \modE\otimes_{\cA}\Omega^1(\cA)$ such that
\begin{enumerate}
\item $\nabla(\xi a)=(\nabla \xi)a+\xi\otimes da$,
\item $\langle \xi, \nabla\eta\rangle -\langle \nabla\xi, \eta\rangle =d\langle \xi, \eta\rangle$
\end{enumerate}
for every $\xi$, $\eta\in\modE$ and $a\in\cA$. A map which only fulfils the first condition is an \defe{universal connection}{universal!connection}.

 We denote by $\mCC(\modE)$\nomenclature[D]{$\mCC(\modE)$}{space of universal compatible connections} the space of universal compatible connections. An universal compatible connection extends in an unique way to a map 
\begin{equation}
\begin{aligned}
\tilde\nabla\colon \modE\otimes_{\cA}\Omega^p\cA&\to \modE\otimes_{\cA}\Omega^{p+1}\cA\\
\xi\otimes\omega_0&\mapsto (\nabla\xi)\omega_0+\xi\otimes d\omega_0
\end{aligned}
\end{equation}
with $\xi\in\modE$ and $\omega\in\Omega^*_D$. If $\nabla\xi=\eta\otimes\omega_0$, the expression $(\nabla\xi)\omega$ means $(\nabla\xi)\omega=\eta\otimes(\omega_0\omega)$. The operation $\tilde\nabla$ fulfils the Leibnitz rule
\[ 
  \tilde\nabla(\eta\omega)=(\tilde\nabla\eta)+(-1)^{\eta}\eta d\omega
\]
if $\eta$ is homogeneous and $\omega\in\Omega^*_D$. Indeed the fact that $\eta$ is homogeneous means that it reads $\xi\otimes\omega_0$ with $\omega_0\in\Omega_D^k$     for a certain $k$. Indeed,
\[ 
\begin{split}
 \tilde\nabla(\eta\omega)&=\tilde\nabla(\xi\otimes\omega_0\omega)=(\nabla\xi)\omega_0\omega+\xi\otimes\big( (d\omega_0)\omega+(-1)^{\omega_0}\omega_0 d\omega \big)\\
		&=\big( (\nabla\xi)\omega_0+(d\omega_0) \big)\omega+(-1)^{\omega_0}\xi\otimes\omega_0 d\omega
		=\tilde\nabla(\xi\otimes\omega_0)\omega+(-1)^{\eta}\xi\otimes\omega_0 d\omega\\
		&=(\tilde\nabla\eta)\omega+(-1)^{\eta}\eta d\omega.
\end{split}  
\]
Most of time, we will make no difference between $\nabla$ and $\tilde\nabla$.

\begin{lemma}
Every universal connection $\nabla\in\mCC(\modE)$ reads
\begin{equation}\label{EqDefConnpdapha}
\nabla = p\delta+\alpha
\end{equation}
for a certain $\alpha\in p\eM_{N\times N}(\cA)p\otimes_{\cA}\Omega^1\cA$.
\end{lemma}

\begin{proof}
We can express the module as $\modE=p\cA^N$. If $\nabla_1$ and $\nabla_2$ are two universal connections, we have
\[ 
(\nabla_1-\nabla_2)(\eta a)=(\nabla_1\eta)a+\eta(\delta a)-(\nabla_2\eta)a-\eta(\delta a)=\big( (\nabla_1-\nabla_2)\eta \big)a,
\]
so that $\nabla_1-\nabla_2\in\End_{\cA}(\modE)\otimes_{\cA}\Omega^1\cA\simeq p\eM_{N\times N}(\cA)p\otimes_{\cA}\Omega^1\cA$. Taking in particular the Grassmannian connection $\nabla_0$ as $\nabla_1$, we find that for any universal connection $\nabla$ fulfils $\nabla-p\delta=\alpha$ with $\alpha\in\eM_{N\times N}(\cA)\otimes\Omega^1(\cA)$ satisfying $\alpha=p\alpha=\alpha p=p\alpha p$. 
\end{proof}
When $\nabla$ is given, the corresponding $\alpha$ is the \defe{gauge potential}{gauge!potential!(universal connection)} of $\nabla$. 


\begin{proposition}\label{PropmCCmCsurjun}
The representation $\pi\colon \Omega(\cA)\to \oB(\hH)$ given in equation \eqref{EqDEfpirep} extends to 
\begin{equation}
\begin{aligned}
 (\mtu\otimes\pi)\colon \mCC(\modE)&\to \mC(\modE) \\ 
   \nabla&\mapsto (\cun\otimes\pi)\circ\nabla 
\end{aligned}
\end{equation}
which is surjective.
\end{proposition}
As a particular case of the proposition, let us prove that the Grassmann connection belongs to $\pi\big( \mCC(\modE) \big)$. When one defines the Grassmann connection as $(\nabla_0\xi)=p\eta$, the right hand side has to be understood as $p\eta\otimes_{\cA}1$ with the $1$ of $\Omega^1_D(\cA)$. So the Grassmann connection is obtained by applying $\pi$ to the connection $\nabla_0'(\xi)=p\eta\otimes_{\cA}1$ with the $1$ of $\Omega^1(\cA)$.

In particular existence of that connection shows that every projective module accepts a connection.
\begin{probleme}
	The following proof is finished ?
\end{probleme}

\begin{proof}

By construction, the map 
\[ 
  (\cun\otimes\pi)  \colon \End_{\cA}(\modE)\otimes\Omega^1(\cA)\to \End_{\cA}(\modE)\otimes_{\cA}\Omega_D^1(\cA)
\]
is surjective. 


\end{proof}

\begin{proposition}
A right module has a connection if an only if it is projective.
\end{proposition}

\begin{proof}
See proposition 7.4 in \cite{Landi}.
\end{proof}


\subsection{Curvature}
%---------------------

Now we define the \defe{curvature}{curvature} of $\nabla$ by $\theta(\nabla)=\tilde\nabla^2$.

\begin{proposition}
This curvature is an endomorphism of $\tilde\modE$ for its structure of right $\Omega^*_D(\cA)$-module.
\end{proposition}

\begin{proof}
If we consider $\xi\otimes\omega_0\in\tilde\modE$ and $\omega\in\Omega^*_D$ with $\nabla\xi=\eta\otimes\omega'$, it is just a computation to prove that
\[ 
  \tilde\nabla^2(\xi\otimes\omega_0\omega)=\big((\nabla\eta)\omega'\omega_0+\eta\otimes d\omega'\omega_0\big)\omega,
\]
and then to see that $\theta\big( (\xi\otimes\omega_0)\omega \big)=\theta(\xi\otimes\omega_0)\omega$.
\end{proof}

From the formula 
\begin{equation}
\tilde\nabla^2(\xi\otimes\omega_0)=(\nabla\eta)\omega'\omega_0+\eta\otimes d\omega'\omega_0,
\end{equation}
we see that $\theta=\tilde\nabla^2$ is completely determined by its restriction to $\modE$.

Let us compute $\nabla^2(\xi\otimes_{\cA}\omega_0)$ with $\omega_0\in\Omega^p\cA$ and $\xi\in\modE$. If $\nabla\xi=\eta\otimes_{\cA}\omega'$,
\begin{align*}
\nabla^2(\xi\otimes_{\cA}\omega_0)&=\nabla\big( (\nabla\xi)\omega_0+\xi\delta\omega_0 \big)\\
		& = (\nabla\eta)\omega'\omega_0+(-1)^{\eta}\eta\otimes_{\cA}\delta(\omega'\omega_0)+(\nabla\xi)\delta\omega_0+\xi\delta^{2}\omega_0\\
		& = (\nabla\eta)\omega'\omega_0+(-1)^{\eta}\eta(\delta\omega')\omega_0+(-1)^{\eta}\eta(-1)^{\omega'}\delta\omega_0+(\eta\otimes_{\cA}\omega')\delta\omega_0\\
		& = \big( (\nabla\eta)\omega'+\eta\delta\omega' \big)\omega+(\eta\otimes_{\cA}\omega'-\eta\otimes\omega').
\end{align*}
We finally have
\begin{equation}
\nabla^2(\xi\otimes_{\cA}\omega_0)=\big( (\nabla\eta)\omega'+\eta\otimes_{\cA}\delta\omega' \big)\omega_0
\end{equation}
if $\nabla\xi=\eta\otimes\omega'$. That shows that 
\begin{equation}	\label{EqThetaCourbomega}
\theta\big( (\xi\otimes_{\cA}\omega_0)\omega \big)=\theta(\xi\otimes_{\cA}\omega_0)\omega.
\end{equation}

In terms of the gauge potential $\alpha$, the curvature reads
\begin{equation}		\label{EqConnPotalpha}
 \theta(\xi)=(p\delta p\delta p+p(\delta\alpha)+\alpha^2)\xi
\end{equation}
because $\alpha=p\alpha=\alpha p=p\alpha p$ and $p\xi=\xi$.


\subsection{Transformation law under the unitary group}
%------------------------------------------------------

The unitary group (subsection \ref{SubsecUnitGroup}) acts on an element $\nabla\in\mCC(\modE)$ by
\begin{equation}
(u\cdot\nabla)(\xi\otimes_{\cA}\omega_0)=u\nabla\big( u^*(\xi\otimes_{\cA}\omega_0) \big),
\end{equation}
or in a more compact way $u\cdot\nabla=\nabla^u=u\nabla u^*$. We want to know how does the curvature change under such a transformation of the connection: we want to know $\theta(\nabla^u)$ in terms of $\nabla$ and $u$. We immediately have
\[ 
  \theta^u(\Sigma)=u\nabla\Big( u^*\big( u\nabla u^*(\xi\otimes\omega_0) \big) \Big)=u\nabla u^*u\nabla\big( u^*(\xi\otimes_{\cA}\omega_0) \big)=u\theta u^*(\Sigma)
\]
with $\Sigma\in\modE\otimes_{\cA}\Omega\cA$. So we have the covariant transformation law 
\begin{equation}
\theta^u=u\theta u^*. 
\end{equation}
Any connection can be written under the form \eqref{EqDefConnpdapha}: $\nabla=p\delta+\alpha$. It is a simple computation to find $\alpha^u$ defined by $\nabla^u=p\delta+\alpha^u$; using the notation $\Sigma=\xi\otimes_{\cA}\omega_0$, we have
\begin{align*}
\nabla^u(\xi\otimes_{\cA}\omega_0) & = u(p\delta+\alpha)u^*(\xi\otimes_{\cA}\omega_0)\\
		& = up\delta(u^*\Sigma)+u\alpha(u^*\sigma)\\
		& = up(\delta u^*)\Sigma+upu^*\delta\Sigma+u\alpha u^*\Sigma\\
		& = (p\delta+pu\delta u^*+u\alpha u^*)\Sigma,
\end{align*}
so the transformation law of the gauge potential reads
\begin{equation}
\alpha^u=pu\delta u^*+u\alpha u^*.
\end{equation}

\subsection{Connection on bimodule} 
%----------------------------------

Let $\modE$ be a left and right-projective $\cA$-bimodule with a right connection $\nabla\colon \modE\to \modE\otimes_{\cA}\Omega^1\cA$. If $\sigma\colon \Omega^1\otimes_{\cA}\modE\to \modE\otimes_{\cA}\Omega^1\cA$ is a bimodule isomorphism, we say that the couple $(\nabla,\sigma)$ is \defe{compatible}{compatible!isomorphism and connection} if we have the Leibnitz rule
\begin{equation}
\nabla(a\xi)=(\nabla\xi)a+\sigma(\delta a\otimes_{\cA}\xi).
\end{equation}

\subsection{Connection on dual module}
%-----------------------------------------

The pairing $(.,.)\colon \modE'\times\modE\to \cA$ defined by $(\phi,\xi)=\phi(\xi)$ can be extended by two ways:
\begin{enumerate}
\item 
 \begin{equation}
\begin{aligned}
 (.,.)\colon \big( \modE'\otimes_{\cA}\Omega\cA \big)\times\modE&\to \Omega\cA \\ 
   (\phi\otimes_{\cA}\omega,\xi)&=\omega^*(\phi,\xi)
\end{aligned}
\end{equation}
\item
\begin{equation}
\begin{aligned}
 (.,.)\colon \modE'\times\big( \modE\otimes_{\cA}\Omega\cA \big)&\to \Omega\cA \\ 
   (\phi,\xi\otimes_{\cA}\omega)&=(\phi,\xi)\omega. 
\end{aligned}
\end{equation}
\end{enumerate}
When one has a connection over $\modE$, one defines the \defe{dual connection}{dual!connection} $\nabla'\colon \modE'\to \modE'\otimes_{\cA}\Omega^1\cA$ by
\begin{equation}
(\nabla'\phi,\xi)=(\phi,\nabla\xi)-\delta(\phi,\xi).
\end{equation}
The dual connection satisfies the Leibnitz rule
\begin{equation}
\nabla'(\phi a)=\phi\otimes_{\cA}\delta a+(\nabla'\phi)a.
\end{equation}
Indeed,
\begin{align*}
\big( \nabla'(\phi a),\xi \big)&=(\phi a,\nabla\xi)-\delta\underbrace{(\phi a,\xi)}_{=a^*(\phi,\xi)}\\
				&=(\phi a,\nabla\xi)+(\delta a)^*(\phi,\xi)-a^*\big( (\phi,\nabla\xi)-(\nabla'\phi,\xi) \big)\\
				&=(\delta a)^*(\phi,\xi)+a^*(\nabla'\phi,\xi)\\
				&=(\phi\otimes_{\cA}\delta a,\xi)+\big( (\nabla'\phi)a,\xi \big).
\end{align*}

\subsection{Connections and Connes' calculus}
%++++++++++++++++++++++*++++++++++++++++++++++

Let $\modE$ be a projective $\cA$-module and let us consider the Connes' calculus $(\Omega_D\cA,d)$. In this framework, a \defe{connection}{connection!on Connes' calculus} is a $\eC$-linear map $\nabla\colon \modE\otimes_{\cA}\Omega_D^p\cA\to \modE\otimes_{\cA}\Omega^{p+1}_D\cA$ such that
\begin{equation}
\nabla(\Sigma\omega)=(\nabla\Sigma)\omega+(-1)^p\Sigma\,d\omega
\end{equation}
for every $\Sigma\in\modE\otimes_{\cA}\Omega^p_D\cA$ and $\omega\in\Omega_D\cA$. The composition $\nabla^2=\nabla\circ\nabla$ is $\Omega_D\cA$-linear and the restriction to $\modE$ is the \defe{curvature}{curvature!on Connes' calculus} denoted by $F(\nabla)$\nomenclature[D]{$F(\nabla)$}{Curvature of a connection}. An interesting property of the curvature is its $\eC$-linearity
\begin{equation}
  F(\xi a)=F(\xi)a,
\end{equation}
indeed
\begin{align*}
F(\xi a)	&=\nabla\big( (\nabla\xi)a+\xi da \big)=(\nabla^2\xi)a-(\nabla\xi)da+\nabla(\xi da)\\
		&=F(\xi)a-(\nabla\xi)da+(\nabla\xi)\,da+\xi\,d^2a.
\end{align*}
More generally we have
\begin{equation}
\nabla^2(\xi\otimes_{\cA}\rho)=F(\xi)\rho.
\end{equation}
The operator $\nabla^2$ can be seen as an element of $\End_{\cA}(\modE)\otimes_{\cA}\Omega^2_D\cA$ and we have the \defe{Bianchi identities}{Bianchi identities}
\begin{equation}
[\nabla,F]=0
\end{equation}
because $\nabla\circ\nabla^2=\nabla^2\circ\nabla$.

In the same way as equation \eqref{EqConnPotalpha}, we have
\begin{equation}
F=p(dA)+A^2+p\,dp\,p\,dp
\end{equation}
We say that the connection $\nabla\colon \modE\otimes_{\cA}\Omega^p_D\cA\to \modE\otimes_{\cA}\Omega^{p+1}_D\cA$ is \defe{compatible}{compatible!connection} with the hermitian structure if for all $\xi$, $\eta\in\modE$,
\begin{equation}
-\langle \nabla\eta, \xi\rangle +\langle \eta, \nabla\xi\rangle =d\langle \eta, \xi\rangle .
\end{equation}
That definition relies on the following two extensions of the hermitian structure:
\begin{equation}
\begin{aligned}
 \langle ., .\rangle \colon \big( \modE\otimes_{\cA}\Omega^1_D\cA \big)\times \modE&\to \Omega^1_D\cA \\ 
   \langle \xi\otimes_{\cA}\omega, \eta\rangle &=\omega^*\langle \xi, \eta\rangle  
\end{aligned}
\end{equation}
and
\begin{equation}
\begin{aligned}
  \langle ., .\rangle \colon \modE\times\big( \modE\otimes_{\cA}\Omega^1_D\cA \big)&\to \Omega^1_D\cA \\ 
   \langle \eta, \xi\otimes_{\cA}\omega\rangle &=\langle \eta, \xi\rangle \omega. 
\end{aligned}
\end{equation}

\begin{proposition}
The connection $\nabla=pd+A$ is compatible with the canonical hermitian structure $\langle \xi, \eta\rangle =\sum_{j=1}^{N}\xi_j\eta_j$ if and only if $A=A^*$.
\end{proposition}

\subsubsection{The simplest example in the world}	\label{ConnEequalAsime}
%////////////////////////////////////////////////

We will build the connection theory in the case of $\modE=\cA$ with the hermitian structure $\langle a, b\rangle =a^*b$. A connection on that module is a map $\nabla\colon \cA\to \cA\otimes_{\cA}\Omega^1_D\cA=\Omega^1_D\cA$ such that $\nabla(ab)=(\nabla a)b+a\,db$. 

A connection has the form $\nabla=d+A$ with $A\in\eM_{1\times 1}(\cA)\otimes_{\cA}\Omega^1_D\cA=\Omega^1_D\cA$ and the compatibility reads $A=A^*$. The curvature is given by $F=dA+A^2$.

In this particular case, one often write $V$ instead of $A$ and $\theta$ instead of $F$.

\subsubsection{Action of the gauge group}	\label{PgSimplestwordl}
%//////////////////////////////////////////

If $u\in U(\modE)$, we define the action of $u$ on the connection $\nabla$ by 
\begin{equation}
\nabla^u=u\nabla u^*
\end{equation}
in the sense that $\nabla^u(\xi)=(u\circ\nabla)(u^*\xi)$. In order to find the transformation law for the vector potential, we consider $\nabla=pd+A$ and we compute
\[ 
\begin{split}
\nabla^u\xi	=u\nabla(u^*\xi)
		=upd(u^*\xi)+uAu^*\xi
		=up(du^*)\xi+upu^*d\xi+uAu^*\xi
		=(updu^*+pd+uAu^*)\xi,
\end{split}  
\]
so that we have the transformation law
\begin{equation}		\label{EqTransAjauge}
A^u=updu^*+uAu^*.
\end{equation}

\subsection{Scalar product on \texorpdfstring{$\pi(\Omega^p\cA)$}{piOpA} and Hilbert structure}
%---------------------------------------------------------------------------------------------

A spectral triple $(\cA,\hH,D)$ is \defe{tame}{tame spectral triple} if for all $T\in\pi(\Omega\cA)$ and $S\in\oB(\hH)$, we have
\[ 
 \tr_{\omega}(ST|D|^{-n})=\tr_{\omega}(S|D|^{-n} T) 
\]
where $\tr_{\omega}$ is the Dixmier trace. In this case, we have
\begin{equation}
\tr_{\omega}(T_1^*T_2|D|^{-n})=\tr_{\omega}(T_1^*|D|^{-n}T_2)=\tr_{\omega}(T_2|D|^{-n}T_1^*):=\langle T_1,\,T_2\rangle.
\end{equation}
Second equality is the cyclic invariance of trace while the last one is a definition. Tameness assures the symmetry: $\langle T_1,\,T_2\rangle=\langle T_2,\,T_1\rangle$. 

Note that when $T\in\pi(\Omega^p\cA)$, we have $T\in\oB(\hH)$. Indeed the definition of $\pi$ is $\pi(a_0\delta a_1)=a_0[D,a_1]$ and the very definition of a spectral triple says that $[D,a_1]$ and $a_0$ are bounded.

Notice that the definition
\begin{equation}
\langle T_1,\,T_2\rangle_{p}=\tr_{\omega}(T_1^*|D|^{-n}T_2)
\end{equation}
only holds for $T_1$, $T_2\in \pi(\Omega^p\cA)$. When $T_1\in\pi(\Omega^p\cA)$ and $T_2\in\pi(\Omega^q\cA)$ with $p\neq q$, we define $\langle T_1,\,T_2\rangle$.

Let us now take $\tilde{\hH}_{p}$, the completion of $\pi(\Omega^p\cA)$ for $\langle .,\,.\rangle_{p}$. When $a\in\cA$ and $T_1$, $T_2\in\pi(\Omega^p\cA)$, using tameness and cyclic invariance, we find
\begin{subequations}   \label{EqUnitRepHtilde}
\begin{equation}
\langle aT_1,\,aT_2\rangle_{p}=\tr_{\omega}(T_1^*a^*|D|^{-n}aT_2)
		=\tr_{\omega}(aT_2|D|^{-n}T_1^*a^*)
	=\tr_{\omega}(T_2|D|^{-n}T_1^*a^*a),
\end{equation}
and with the same computation
\begin{equation} 
  \langle T_1a,\,T_2a\rangle_{p}=\tr_{\omega}(aa^*T_1^*|D|^{-n}T_2).
\end{equation}
\end{subequations}
We define the \defe{unitary group}{unitary!group!of an algebra}\nomenclature{$U(\cA)$}{Unitary group of the algebra $\cA$} $U(\cA)$ by
\begin{equation}
 U(\cA)=\{ u\in\cA\tq u^*u=uu^*=1 \}.
\end{equation}
This group can be represented on $\tilde{\hH}_{p}$ by
\[ 
  L(a)T=aT\quad\text{and}\quad R(a)T=Ta.
\]
Equations \eqref{EqUnitRepHtilde} show that $R$ and $L$ are unitary representations:
\[ 
  \langle L(a)T_1,\,L(a)T_2\rangle=\langle R(a)T_1,\,R(a)T_2\rangle=\langle T_1,\,T_2\rangle.
\]

\begin{lemma}
The set 
\[ 
  \pi\big( \delta(J_0\cap\Omega^{p-1}\cA) \big)
\]
is a two-sided submodule of $\pi(\Omega^p\cA)$.
\end{lemma}

\begin{proof}
An element of $\pi\delta(J_0\cap\Omega^p\cA)$ has the form $\pi\delta(\omega)$ with $\omega\in\Omega^p\cA$ and $\omega\in J_0$, i.e. $\pi(\omega)=0$. Let $a\in\cA$; from definition of $\pi$, we have $a\pi\delta(\omega)=\pi(a\delta\omega)$. Then
\[ 
  \pi(a\delta\omega)=\pi\big( \delta(a\omega)-\delta(a)\omega \big)
\]
in which the second term is $\pi(\delta a)\pi(\omega)=0$. The conclusion is that $a\pi\delta(\omega)=\pi(\delta (a\omega))$. In order for $\pi\delta(J_0\cap \Omega^p\cA)$ to be a left sub-module of $\pi(\Omega^{p+1}\cA)$, it remains to be proved that $a\omega\in J_0\cap \Omega^p\cA$ when $\omega\in J_0\cap \Omega^p\cA$. It is the case because $\pi(a\omega)=\pi(a)\pi(\omega)=0$.

The right sub-module structure is left as an exercise.

\end{proof}

Let us see that the closure of $\pi\delta(J_0\cap\Omega^{p-1}\cA)$ in $\tilde{\hH}$ is invariant under the representations $L$ and $R$ of $U(\cA)$. Let $u\in U(\cA)$ and $\omega\in \overline{ \pi\delta(J_0\cap \Omega^{p-1}\cA) }$, we want $R(u)\pi\delta\omega\in\overline{ \pi\delta(J_0\cap\Omega^{p-1}\cA) }$ where the bar denotes the closure. We have $R(u)\pi\delta\omega=(\pi\delta\omega)u$, but we just proved that $\pi\delta(J_0\cap\Omega^{p-1}\cA)$ is a right module, so $(\pi\delta\omega)u$ still belongs to this set.

\begin{proposition}
Let $P_{p}$ be the projection parallel to $\pi\delta(J_0\cap \Omega^{p-1}\cA)$ in $\tilde{\hH}_{p}$. Then $[L(a),P_{p}]=0$.
\end{proposition}

\begin{proof}
Let $x=\pi\delta\omega+y\in\tilde{\hH}_{p}$ with $\omega\in J_0\cap\Omega^{p-1}\cA$ and $y$ in the complement. We have 
\[ 
  P_{p}L(a)x=P_{p}(ay)
\]
because $a\pi\delta\omega\in\pi\delta J_0^{p-1}$ from the fact that $\pi\delta J_0^{p-1}$ is a sub-module. On the other hand, $L(a)P_{p}x=ay$. It remains to be proved that $P_{p}(ay)=ay$ when, by construction, $P_{p}y=y$. Indeed if  $ay$ has a component in $J_0^{p-1}$, the $y$ has too because $y=a^{-1}(ay)$ and $J_0^{p-1}$ is a submodule.
\end{proof}
\section{Connections on modules and Yang-Mills functional}
%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

\subsection{Potential vector and field strength}
%----------------------------------------------

Let $(\cA,\hH,D)$ be a tame spectral triple of dimension $b$ on which we build $\Omega_D\cA=\oplus_{p}\Omega_D^{p}\cA$. A \defe{potential vector}{potential!vector}, or a \defe{gauge potential}{gauge!potential} is a self-adjoint element of $\Omega_D^{1}\cA$. The \defe{field strength}{field!strength} corresponding to the potential vector $V$ is 
\[ 
  \theta=dV+V^{2},
\]
to be compared with the expression \eqref{EaCurvdVVsq} for the curvature. 

\begin{proposition}
The field strength is self-adjoint.
\end{proposition}

\begin{proof}
What does mean, at the class level, the fact to be self-adjoint ? Remember that
\[ 
  \Omega_D\cA\simeq \Omega\cA/J\simeq\pi(\Omega\cA)/\pi(\delta J_0).
\]
An element $V\in\Omega_D^1\cA$ is $V=[\omega]$ with $\omega\in\Omega^1\cA$ and the class taken as $[\omega]=[\omega+\eta_1+\delta\eta_2]$ for all $\eta_1\in\Omega^1\cA$ and $\eta_2\in\cA$ such that $\pi(\eta_1)=\pi(\eta_2)=0$. The condition $V=V^*$ means $[\omega]=[\omega^*]$ which in turn \emph{doesn't} implies that $\omega=\omega^*$.

Now let $\omega=a\delta b$, we have 
\[ 
dV-dV^*=[\delta a\delta b]-[d(\delta b^*\, a^*)]
		=[\delta a\delta b]+[\delta b^*\delta a^*]\neq 0.
\]
So we have $[\delta(\omega-\omega^*)]\neq 0$ although $[\omega-\omega^*]=0$. That proves that $\omega-\omega^*$ is junk.

From definition, $\eta$ is junk when $\pi(\eta)=0$ while $\pi(\delta\eta)\neq 0$. The condition $V=V^*$ means $[\omega]=[\omega^*]$, and then $[\omega-\omega^*]=0$. Therefore we can write $\omega-\omega^*=\eta$ with $\pi(\eta)=0$ and $\pi(\delta\eta)\neq 0$. In conclusion we have
\begin{subequations}
\begin{align}
  \pi(\omega-\omega^*)&=0\\
	\pi(\delta\omega-\delta\omega^*)&\neq 0.
\end{align}
\end{subequations}
Since $dV=[\delta\omega]$ and $(dV)^*=[\delta\omega^*]$, 
\[
dV-(dV)^*=[\delta\omega-\delta\omega^*]
		=[\delta(\omega-\omega^*)].
\]
The claim $dV=(dV)^*$ needs to show that $[\delta(\omega-\omega^*)]=0$. It is the case because it is of the form $[\delta\eta]$ with $\pi(\eta)=0$.

\end{proof}


\subsection{Action of the gauge group}
%-------------------------------------

The element $u\in U(\cA)$ acts on the potential vector $V$ by
\begin{equation}	\label{EqDefActGaugePotVec}
  V\mapsto V^{u}:=uVu^*+u[D,u^*],
\end{equation}
to be compared with the expression given in proposition \eqref{EaCurvdVVsq} of the transformation rule of a connection under a gauge transformation.
 
\begin{lemma}
When $V$ is a potential vector, the element $V^{u}$ is still a potential vector.
\end{lemma}

\begin{proof}
Our work is to prove that $V^{u}-(V^{u})^*=0$ in the sense of classes. If $V=[\omega]$, the definition is $[\omega]^{u}=[u\omega u^*]+[u\delta u^*]$, and thus
\[ 
  (V^{u})^*=[u\omega u^*]+[\delta uu^*].
\]
So we have to prove that $u\delta u^*-\delta uu^*\in J$. We have $\delta(1)=\delta(uu^*)=\delta uu^*-u\delta u^*$, but $\pi(\delta(1))=[D,1]=0$, so $\delta(1)\in J$. It proves that $V^{u}=(V^{u})^*$.
\end{proof}

\begin{lemma}   
The transformation law of the field strength is 
\begin{equation}
\theta^{u}=u\theta u^*.
\label{LemTrFieldStrm}
\end{equation}

\end{lemma}
\begin{proof}
No proof.
\end{proof}

\subsection{Yang-Mills}
%----------------------

The \defe{Yang-Mills functional}{Yang-Mills} is defined by
\begin{equation}
YM(V):=\langle dV+V^{2},\,dV+V^{2}\rangle.
\end{equation}

The product is \emph{a priori} only defined on $\Omega^2\cA$, not on the classes. Let us prove that the Yang-Mills functional is well defined. We have to prove that

\begin{theorem}
 The Yang-Mills functional
\begin{enumerate}
\item is positive,
\item is gauge invariant:
\begin{equation}
YM(V)=YM(V^{u}),
\end{equation}
\item and satisfies a minimal principle
\begin{equation}
  YM(V)=\inf\{ I(\alpha)\tq \pi(\alpha)=V \}
\end{equation}
where
\[ 
  I(\alpha)=\tr_{\omega}\big( \pi(\delta\alpha+\alpha^{2})^{2}|D|^{-n} \big)
\]
for $\alpha\in\Omega^1\cA$.
\end{enumerate}

\end{theorem}

\begin{proof}
From property of the Dixmier trace, $\tr_{\omega}(T)\geq 0$ when $T\geq0$. In our case we are looking on $T=\theta^*\theta|D|^{-n}$

\begin{probleme}
	This is for sure positive in some sense, but I have to formalise that concept.
\end{probleme}

The invariance of Yang-Mills under $U(\cA)$ is easy:
\begin{equation}
YM(V^{u})=YM\big( uVu^*+u[D,u^*] \big)
		=\langle u\theta u^*,\,u\theta u^*\rangle
		=\tr_{\omega}(\theta^{2}|D|^{-n})
		=YM(V).
\end{equation}

For the third claim, we begin by proving that $I$ is positive and invariant under the transformation
\[ 
  \alpha\mapsto \alpha^{u}:=u\alpha u^*+u\delta u^*
\]
in the space $\{ \alpha\in\Omega^1\cA \tq\alpha=\alpha^* \}$. Positivity comes from Dixmier trace while for invariance first notice that lemma \ref{LemTrFieldStrm} says that under $\alpha\mapsto u\alpha u^*+u\delta u^*$, we have the transformation $\delta\alpha+\alpha^{2}\mapsto u(\delta\alpha+\alpha^{2})u^*$. Thus
\begin{align*}
  I(\alpha^{u})&=\tr_{\omega}\Big[ \pi\big( u(\delta\alpha+\alpha^{2})u^* \big)^{2}|D|^{-n}  \Big]\\
		&=\tr_{\omega}\Big[ \pi\big( u(\delta\alpha+\alpha^{2})^{2}u^* \big)|D|^{-n}  \Big]\\
		&=\tr_{\omega}\big[ \pi(\delta\alpha+\alpha^{2})^{2}|D|^{-n} \big]\\
		&=I(\alpha).
\end{align*}
Now we see $\Omega_D\cA\simeq\pi(\Omega\cA)/\pi(\delta J_0)$, and we take a $\alpha\in\Omega^1\cA$ such that $[\pi(\alpha)]=V$ where the class is taken modulo $\pi(\delta J_0)$. We are going to prove that 
\begin{equation} \label{EqDvVppi}
  dV+V^{2}=[P\pi(\delta\alpha+\alpha^{2})].
\end{equation}
First, $dV=[\pi(\delta\alpha)]$, so $dV+V^{2}=[\pi(\delta\alpha+\alpha^{2})]$. From definition, $P$ projects $\pi(\delta J_0)$ on zero, so from definition of the classes that precisely are modulo $\delta J_0$, we have for any $\omega$, $[\pi(\omega)]=[P\pi(\omega)]$. In particular, for all $\alpha\in\Omega^1\cA$ such that $[\pi(\alpha)]=V$, we have equation \eqref{EqDvVppi}. 

\end{proof}

\subsection{Fermionic action}
%-----------------------------

Let us first work out the case of the $\cA$-module $\modE=\cA$ described in page \pageref{PgSimplestwordl}.

\begin{theorem}
If $V\in\Omega^1_D\cA$ is a gauge potential (i.e. if $V=V^*$), the quantity
\begin{equation}
I_{Dir}(V,\psi)=\langle \psi, (D+\pi(V))\psi\rangle 
\end{equation}
with $\psi\in\dom(D)\subset\hH$ is invariant under the action of $U(\cA)$. That quantity is the \defe{fermionic action}{fermionic action}.
\end{theorem}

\begin{proof}
First we have 
\[ 
  \pi(V^u)(u\psi)=(u[D,u^*]+uVu^*)(u\psi)=uD(u^*u\psi)-uu^*D(u\psi)+u\pi(V)u^*u\psi;
\]
using the fact that $uu^*=u^*u=1$, we find
\[ 
  \big( D+\pi(V^u) \big)(u\psi)=D(u\psi)+uD\psi-D(u\psi)+u\pi(V)\psi=u\big( D\psi+\pi(V)\psi \big).
\]
The claim now results from the fact that $u$ is an isometry for the inner product.
\end{proof}

Let $\cA$ and $\cB$ be two \hyperref[PgMoritaEq]{Morita equivalent} algebras. If $\cA$ acts on the Hilbert space $\hH$, then we define
\[ 
  \hH'=\modE\otimes_{\cA}\hH
\]
where $\modE$ is the module that implement the Morita equivalence. The algebra naturally acts on $\hH'$. If $\modE$ has an hermitian structure with values in $\cA$ which satisfies the conditions of an inner product (including positivity), then
\begin{equation}
\big( \xi_1\otimes\psi_1,\xi_2\otimes\psi_2 \big)=\langle \psi_1, \langle \xi_1, \xi_2\rangle \psi_2\rangle 
\end{equation}
defines an Hilbert space structure on $\hH'$. Since $\cB$ acts on $\hH'$ in the same way as $\cA$ acts on $\hH$, we want to define an associated Dirac operator. The most immediate choice is $D'(\xi\otimes_{\cA}\psi)=\xi\otimes_{\cA}D\psi$, but it is not well defined because of the tensor product:
\[ 
  \xi a\otimes_{\cA}\psi=\xi\otimes_{\cA}\pi(a)\psi,
\]
so that $D'(\xi a\otimes_{\cA}\psi)=\xi\otimes_{\cA}aD\psi$ while $D'(\xi\otimes_{\cA}a\psi)=\xi\otimes_{\cA}D(a\psi)$, but in general $aD\psi\neq D(a\psi)$. In order to build a suitable extension of $D$ to $\hH'$, we consider a connection $\nabla\colon \modE\to \modE\otimes_{\cA}\Omega^1_D(\cA)$ and we define
\[ 
  D_{\nabla}(\xi\otimes_{\cA}\psi)=\xi\otimes_{\cA}D\psi+(\nabla\xi)\psi
\]
where the second terms has to be understood as $(\nabla\xi)\psi=(\eta\otimes_{\cA}\omega)\psi=\eta\times\pi(\omega)\psi$. In the case where $\modE=\cA$, we know from \emph{the simplest example in the world} (page \pageref{ConnEequalAsime}) that a connection reads $d+A$, so that the fluctuation of the Dirac operator reads $D\mapsto D+V$ where $V$ is any potential vector.


Let us now pass to a general hermitian projective finitely generated module $\modE$ on $\cA$. For that, we consider the space of \defe{gauged spinors}{spinor!gauged} $\modE\otimes_{\cA}\hH$. That space is endowed with the inner product
\begin{equation}
( \xi_1\otimes_{\cA}\psi_1,\xi_2\otimes_{\cA}\psi_2  )=(\psi_1,\langle \xi_1, \xi_2\rangle \psi_2).
\end{equation}
The action of an element of $\End_{\cA}(\modE)$ extends to gauges spinors by
\[ 
  \phi(\xi\otimes_{\cA}\psi)=\phi(\xi)\otimes_{\cA}\psi
\]
for $\phi\in\End_{\cA}(\modE)$. In particular the action of $U(\modE)$ is unitary: $\big( u(\xi_1\otimes\psi_1),u(\xi_2\otimes\psi_2) \big)=(\xi_2\otimes\psi_1,\xi_2\otimes\psi_2)$.

If $\nabla\colon \modE\to \modE\otimes_{\cA}\Omega^1_D\cA$ is a compatible connection, we define the \defe{gauged Dirac operator}{gauged!Dirac operator}
\begin{equation}
\begin{aligned}
 D_{\nabla}\colon \modE\otimes_{\cA}\hH&\to \modE\otimes_{\cA}\hH \\ 
   D_{\nabla}(\xi\otimes\psi)&=	\xi\otimes D\psi+\big( (\mtu\otimes\pi)\nabla_{un}\xi \big)\psi 
\end{aligned}
\end{equation}
where $\nabla_{un}$ is any universal connection projecting on $\nabla$, $\pi(\nabla_{un})=\nabla$. Let $\nabla_{un}=p\delta+\alpha$ with $\alpha\in\End_{\cA}(\modE)\otimes_{\cA}\Omega^1\cA$. Using the action \eqref{EqActallphaEOAp}, the second term in the gauged Dirac operator reads
\begin{align*}
(\mtu\otimes\pi)\nabla_{un}p\big(  \sum_ie_i\otimes\xi^i \big)&=(\mtu\otimes\pi)(p\delta+\alpha)\sum_ip(f_i)\xi^i\\
		&=(\mtu\otimes\pi)\big( \sum_ip(f_i) \otimes_{\cA} \delta \xi^i +\alpha(\xi) \big)\\
		&=\sum_ip(f_i)\otimes_{\cA}[D,\xi^i]+\pi(\alpha)\xi\\
		&=[D,\xi]+\pi(\alpha)\xi\\
		&=d\xi+\pi(\alpha)\xi
\end{align*}
in which the three last lines are notations. If we apply $D_{\nabla}$ on $\Psi=\sum_j\xi_j\otimes\psi_j$, we have
\[ 
  \sum_j\sum_ip(f_i)\otimes_{\cA}[D,\xi^i]\psi_j=\sum_j[D,\xi]\psi_j\in\modE\otimes_{\cA}\hH
\]
and
\begin{align*}
\pi(\alpha)\Psi&=\sum_k(\mtu\otimes\pi)\big( \alpha(\xi) \big)\psi_k\\
		&=\sum_{ijk}(\mtu\otimes\pi)\big( A_i\xi_j\otimes_{\cA}a^i_0\delta a^i_1 \big)\psi_k\\
		&=\sum_{ijk}A_i\xi_j\otimes_{\cA}a^i_0[D,a^i_0]\psi_k\in\modE\otimes\hH.
\end{align*}
The whole gives
\[ 
\begin{split}
  D_{\nabla}\Psi&=\xi\otimes D\psi+\big( [D,\xi]+\pi(\alpha)\xi \big)\psi\\
		&=\xi\otimes D\psi+(d\xi)\psi+\pi(\alpha)\psi\\
		&=\big( pD+\pi(\alpha) \big)\Psi
\end{split}
\]
where $D(\xi\otimes\psi)=\xi\otimes D\psi+d\xi\psi$. Remark that $D_{\nabla}$ only depend on $\pi(\alpha)$ and not of the whole choice of $\nabla_{un}$. Since $\pi(\nabla^1_{un})=\pi(\nabla^2_{un})$ only when $\pi(\alpha^1)=\pi(\alpha^2)$, the gauged operator $D_{\nabla}$ in fact does not depend on the choice of $\nabla_{un}$ in $\pi^{-1}(\nabla)$.

\begin{proposition}
The \defe{gauged Dirac action}{gauged!Dirac action} is
\begin{equation}
I_{Dir}(\nabla,\Psi)=\langle \Psi, D_{\nabla}\Psi\rangle.
\end{equation}
That action is invariant under the unitary group:
\[ 
  I_{Dir}(\nabla^u,u\Psi)=I_{Dir}(\nabla,\Psi)
\]
for every $\Psi\in\modE\otimes_{\cA}\dom D$ and $\nabla\in \mC(\modE)$. 
\end{proposition}

\begin{proof}
We know that $\nabla=pd+A$ and $\nabla^u=pd+A^u$. Using the fact that $(1\otimes\pi)$ commutes with $u$ and $(1\otimes\pi)\alpha=A$,
\[ 
\begin{split}
(1\otimes\pi)\alpha^u&=(1\otimes\pi)(up\delta u^*+u\alpha u^*)\\
		&=u(\mtu\otimes\pi)(p\delta)u^*+u(\mtu\otimes\pi)\alpha u^*\\
		&=updu^*+uAu^*\\
		&=A^u.
\end{split}  
\]
Thus, using $up:pu$,  we have
\begin{align}
\big( pD+\pi(\alpha^u) \big)(u\Psi)&=\big( pD+\pi(up\delta u^*+u\alpha u^*) \big)(u\Psi)\\
		&=(pD)(u\Psi)+updu^*(u\Psi)+u\pi(\alpha)u^*(u\Psi)\\
		&=(pD)(u\Psi)+up[D,u^*](u\Psi)+u\pi(\alpha)(\Psi)\\
		&=upD(u^*u\Psi)+u\pi(\alpha)\Psi\\
		&=u\big( pD+\pi(\alpha) \big)\Psi.
\end{align}

\end{proof}




%%%%%%%%%%%%%%%%%%%%%%%%%%
%
   \section{Forms and physics formalism}
%
%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Unitary group}
%--------------------------

We consider a K-cycle $(\hH,D)$ over an involutive unital algebra $\cA$. Its \defe{unitary group}{unitary!group!of an algebra} is
\[ 
  U(\cA)=\{ u\in\cA\tq u^*u=uu^*=1 \}.
\]
For such a $u$, we have $uDu^*=D+u[D,u^*]$. This shows that $D$ is not invariant under $U(\cA)$, but that its variation is of the form $u[D,u^*]$. When one looks at equation \eqref{eq_jaugeA_em}, we want the variation of $D$ to be a vector potential. Hence we take the following definitions. A \defe{$k$-form}{form of degree $k$} on $\cA$ is an operator on $\hH$ of the form
\[ 
  \omega^k=\sum_{j}a_0^j[D,a_1^j]\cdots[D,a_k^j],
\]
and a \defe{vector potential}{vector!potential} is a self-adjoint $1$-form of the form
\begin{equation}   \label{EqPotVectV}
  V=\sum_{j}a_0^j[D,a_1^j]
\end{equation}
with $a_k^j\in\cA$. The action of $u\in U(\cA)$ on the operator $D+V$ is
\[ 
  D+V\mapsto u(D+V)u^*=uDu^*+uVu^*=D+u[D,u^*]+uVu^*.
\]
For that reason, we define the action of $u$ on a potential vector $V$ by
\[ 
  V\mapsto\gamma_u(V)=u[D,u^*]+uVu^*,
\]
in such a way that $D+V\mapsto D+\gamma_u(V)$. The definition of $V$ is tricky. Because of the ambiguity of the way to write $V$ under the form \eqref{EqPotVectV}. From this form, in order to make the same as in the Fredholm modules associated with a cycle (see equation \eqref{EqFreddDefbel}), we want to define $dV=\sum_{j}[D,a^j_0][D,a^j_1]$. We defer a few the discussion about the ill definiteness of this definition. Let us go on and study the consequence of that definition on the curvature $\theta(V)=dV/V^2$.

If we replace $V$ by $\gamma_u(V)$, we have to compute $\theta\big( \gamma_u(V) \big)=d\big( \gamma_u(V) \big)+\gamma_u(V)^2$. Since $[D,.]$ is a derivation we find
\[ 
\gamma_u(V)=u[D,u^*]+\sum_{j}ua^j_0[D,a^j_1]u^*
		=u[D,u^*]+\sum_{j}ua^j_0\big( [D,a^j_1u^*]-a^j_1[D,u^*] \big),
\]
so
\[ 
  d\big( \gamma_u(V) \big)=[D,u][D,u^*]+\sum_{j}[D,ua^j_0][D,a^j_1u^*]-\sum_{j}[D,ua^j_0a^j_1][D,u^*],
\]

\begin{proposition}
 We have the equality
\[ 
  d\big( \gamma_u(V) \big)+\gamma_u(V)^2=u(dV+V^2)u^*
\]
as operator on $\hH$.
\end{proposition}
\begin{proof}
No proof.
\end{proof}

\begin{probleme}
	What is a \emph{reduced} algebra ?
\end{probleme}

As far as we are considering a K-cycle over $\cA$, we can consider the graded universal reduced algebra $\Omega^*(\cA)$. In this algebra, we have $\Omega^0(\cA)=\cA$ while $\Omega^1(\cA)$ is generated by the symbols $da$ (with $a\in\cA$) and the rules
\begin{itemize}
\item $d(ab)=(da)b+a(db)$,
\item $d1=0$.
\end{itemize}
If $\alpha\in\eC$, these two requirements imply that $d(\alpha a)=(d\alpha)a+\alpha(da)=\alpha(da)$. Hence if we suppose the linearity, we find
\[ 
  d(\alpha a+\beta b)=\alpha da+\beta db.
\]

Recall that the involution of $\cA$ extends to $\Omega^*(\cA)$ by $(da)^*=-da^*$, and the differential is defined by $d(a^0da^1\cdots da^{n})=da^0da^1\cdots da^{n}$. It fulfills $d^2=0$ and $d(\omega_1\omega_2)=(d\omega_1)\omega_2+(-1)^{\omega_1}\omega_1d\omega_2$.

\section{Yang-Mills on the two point space}
%+++++++++++++++++++++++++++++++++++++++++++

Let $X=\{ a,b \}$ be a two point space; the space of functions on $X$ is identified with $\eC\oplus\eC$. An element $f\in\cA$ is given by $(f_a,f_b)$. We are going to define a K-cycle on $X$. First we consider a finite dimensional Hilbert space $\hH$ and we consider the following representation of $\cA$ on $\hH$:
\[ 
  \pi(f)=\begin{pmatrix}
f_a\mtu_a\\&f_b\mtu_b
\end{pmatrix}
\]
with respect to a direct space decomposition $\hH=\hH_a\oplus\hH_b$. The operator $D$ is constrained by commutators with elements of $\cA$. Since a diagonal part of $D$ would vanish in commutators with $\cA$, we can choose an off-diagonal operator $D$ under the form
\begin{equation}
D=\begin{pmatrix}
0&M^*\\
M&0
\end{pmatrix}
\end{equation}
with $M\colon \hH_1\to \hH_2$. For the graduation, one can choose 
\[ 
  \Gamma=\begin{pmatrix}
\mtu_{\hH_1}\\
&-\mtu_{\hH_2}
\end{pmatrix}.
\]
The commutator $[D,\cA]$ reads
\begin{equation}
[D,f]=(f_b-f_a)\begin{pmatrix}
0&M^*\\
-M&0
\end{pmatrix}
\end{equation}
The fact that $D$ is self-adjoint on a finite dimensional space makes that there exists a basis of eigenvectors and that the biggest eigenvalue of $D$ is the square root of the one of $D^2$. So if $\lambda$ is the biggest eigenvalue of $| M |=\sqrt{M^*M}$,
\[ 
  \| [D,f] \|=\lambda|f_b-f_a|.
\]
Therefore the noncommutative distance between $a$ and $b$ is given by
\begin{equation}
d(a,b)=\sup\{ | f_b-f_a |\text{ such that } \lambda| f_b-f_a |\leq 1 \}=1/\lambda.
\end{equation}


One can show that the map $\pi\colon \Omega^1\cA\to \mL(\hH)$ is injective, so that $\Omega^1_D\cA=\Omega^1\cA$ by lemma \ref{LemOmpmdDp}. A general element of $\Omega^1_D\cA$ has the form $\lambda ede+\mu(1-e)de$. Under the representation $\pi$ we have
\begin{align*}
\pi(e)&=\begin{pmatrix}
\mtu\\&0
\end{pmatrix}&
\pi(de)=[D,e]&=\begin{pmatrix}
0	&-M^*\\
M	&0
\end{pmatrix}\\
\pi(ede)&=\begin{pmatrix}
0&-M^*\\
0&0
\end{pmatrix}&
\pi\big( (1-e)de \big)&=
\begin{pmatrix}
0&0\\M&0
\end{pmatrix},
\end{align*}
so that
\begin{equation}		\label{EqElOmAD}
\pi\big( \lambda e de+\mu(1-e)de \big)=\begin{pmatrix}
0	&-\lambda M^*\\
\mu M&0
\end{pmatrix}
\end{equation}



We are now going to study two examples of modules on $\cA$ and write down the corresponding Yang-Mills theory.

\subsection{The simplest module}
%--------------------------------

As first example of module, we consider $\modE=\cA$. We know a spectral triple and the space of $1$-forms $\Omega^1\cA$ on the two point space from \ref{SubSecTripleDeuxPoints}. We know from \ref{ConnEequalAsime} that a potential vector is a self-adjoint element of $\Omega^1_D\cA$; using expression \ref{EqElOmAD} we find
\begin{align}
	V&=-\overline{ \Phi }ede+\Phi(1-e)de\\
	\pi(V)&=\begin{pmatrix}
0&\overline{ \Phi }M^*\\
\Phi M
\end{pmatrix},
\end{align}
where $\Phi$ is any complex number. The curvature is given by $\theta=dV+V^2$ and is computed using the relations
\begin{align*}
ede(1-e)&=ede		&e(de)e&=0	&(1-e)de(1-e)&=0\\
e^2&=e			&d(1-e)&=-de.	&(de)e&=(1-e)de\\
e(1-e)&=0		
\end{align*}
We find the result
\begin{equation}
\theta(V)=-(\overline{ \Phi }+\Phi)dede-\overline{ \Phi }\Phi dede
\end{equation}
The general formula $YM(\nabla)=\tr_{\omega}\big( \pi(\theta)^2| D |^{-d} \big)$ reduces to
\[ 
  YM(V)=\tr\big( \pi(\theta)^{2} \big)
\]
because the spectral triple is zero-dimensional and the Dixmier trace is the usual trace.

\begin{probleme}
	The usual trace is used as Dixmier trace because the Hilbert space is finite dimensional ?
\end{probleme}
We have
\[ 
  \pi(dede)^2=\begin{pmatrix}
-M^*M&0\\0&-MM^*
\end{pmatrix},
\]
so that $\tr\big( \pi(dede)^2 \big)=2\tr(MM^*)^2$, and
\[ 
  \pi(\theta)=-\big( (\overline{ \Phi }+\Phi)+\Phi\overline{ \Phi } \big)\begin{pmatrix}
0&M^*\\M&0
\end{pmatrix}.
\]
What is interesting is the dependence in $\Phi$ in the Yang-Mills action:
\begin{equation}
YM(V)=2\big( | \Phi+1 |^2-1 \big)\tr\big( (M^*M)^2 \big).
\end{equation}
If one sees that as a field equation for $\Phi$, one concludes that the right field is $\Phi+1$ instead of $\Phi$. For that reason we perform the change of basis $\phi=1+\Phi$.

In our simple case $\modE=\cA$, an element of $U(\modE)$ is an element $u\in\cA$ such that $uu^*=u^*u=1$. If we write $u=u_ae+u_b(1-e)$ with $u_i\in\eC$, it is easy to see that the condition is $u_au_a^*=u_a^*u_a= u_bu_b^*=u_b^*u_b=1$, so that $U(\cA)=U(1)\times U(A)$.

Let us now apply formula \eqref{EqTransAjauge} on the gauge potential $A=V=(1-\overline{ \phi })ede+(\phi-1)(1-e)de$ and $u=u_ae+u_b(1-e)$. A simple computation shows that 
\[ 
  V^u=ede-(1-e)de-u_a\overline{ u }_b\overline{ \phi }ede+u_b\overline{ u }_a\phi(1-e)de.
\]
Comparing the expression of $V$ with the one of $V^u$ we see that the action of $u$ is to replace $\phi\to u_b\overline{ u }_a\phi$.
